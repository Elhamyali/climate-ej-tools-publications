<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.7.31">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Elham Ali">
    <meta name="dcterms.date" content="2025-10-05">
    <meta name="keywords" content="climate change, environmental justice, digital tools, research studies, academic research">

    <title>How climate and envrionmental justice tools are used in research studies</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      html { -webkit-text-size-adjust: 100%; }
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      /* CSS for citations */
      div.csl-bib-body { }
      div.csl-entry {
        clear: both;
        margin-bottom: 0em;
      }
      .hanging-indent div.csl-entry {
        margin-left:2em;
        text-indent:-2em;
      }
      div.csl-left-margin {
        min-width:2em;
        float:left;
      }
      div.csl-right-inline {
        margin-left:2em;
        padding-left:1em;
      }
      div.csl-indent {
        margin-left: 2em;
      }    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-8a894fcc3cb5e37eb5bf30def131be2f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
     <script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>  <link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<script src="site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="site_libs/highchart-binding-0.9.4/highchart.js"></script>  
      <meta name="citation_title" content="How climate and envrionmental justice tools are used in research studies">
<meta name="citation_keywords" content="climate change,environmental justice,digital tools,research studies,academic research">
<meta name="citation_author" content="Elham Ali">
<meta name="citation_publication_date" content="2025-10-05">
<meta name="citation_cover_date" content="2025-10-05">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-10-05">
<meta name="citation_language" content="en">
<meta name="citation_journal_title" content="Public Environmental Data Project">
<meta name="citation_reference" content="citation_title=13.2.4 google scholar results are limited to the 1000 most cited papers;,citation_author=Anne-Wil Harzing;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://harzing.com/popbook/ch13_2_4.htm;">
<meta name="citation_reference" content="citation_title=Stratified Sampling in R: A Practical Guide with Base R and dplyr  Steve’s Data Tips and Tricks;,citation_author=Steven Sanderson;,citation_publication_date=2024-07-29;,citation_cover_date=2024-07-29;,citation_year=2024;,citation_fulltext_html_url=https://www.spsanderson.com/steveondata/posts/2024-07-29/;,citation_language=en;">
<meta name="citation_reference" content="citation_title=Interrater reliability: The kappa statistic;,citation_author=Mary L. McHugh;,citation_publication_date=2012-10-15;,citation_cover_date=2012-10-15;,citation_year=2012;,citation_fulltext_html_url=https://pmc.ncbi.nlm.nih.gov/articles/PMC3900052/;,citation_issue=3;,citation_volume=22;,citation_journal_title=Biochemia Medica;">
<meta name="citation_reference" content="citation_title=Cohen’s Kappa in R: For Two Categorical Variables;,citation_author=undefined Data Novia;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_fulltext_html_url=https://www.datanovia.com/en/lessons/cohens-kappa-in-r-for-two-categorical-variables/;,citation_language=en;">
</head>

  <body class="quarto-notebook quarto-light">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Article Notebook</h6>

            <a href="./analysis.qmd" class="btn btn-primary quarto-download-embed" download="analysis.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">How climate and envrionmental justice tools are used in research studies</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Author</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Elham Ali </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Public Environmental Data Project (PEDP)
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Published</div>
            <div class="quarto-title-meta-contents">
              <p class="date">October 5, 2025</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>


    <div>
      <div class="keywords">
        <div class="block-title">Keywords</div>
        <p>climate change, environmental justice, digital tools, research studies, academic research</p>
      </div>
    </div>

    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background"><span class="header-section-number">1</span> Background</a></li>
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions"><span class="header-section-number">2</span> Research Questions</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources"><span class="header-section-number">3</span> Data Sources</a></li>
  <li><a href="#cleaning" id="toc-cleaning" class="nav-link" data-scroll-target="#cleaning"><span class="header-section-number">4</span> Cleaning</a>
  <ul>
  <li><a href="#import-raw-data" id="toc-import-raw-data" class="nav-link" data-scroll-target="#import-raw-data"><span class="header-section-number">4.1</span> Import raw data</a></li>
  <li><a href="#merge-ejscreen-datasets" id="toc-merge-ejscreen-datasets" class="nav-link" data-scroll-target="#merge-ejscreen-datasets"><span class="header-section-number">4.2</span> Merge EJScreen datasets</a></li>
  <li><a href="#clean-and-tag-all-other-tools" id="toc-clean-and-tag-all-other-tools" class="nav-link" data-scroll-target="#clean-and-tag-all-other-tools"><span class="header-section-number">4.3</span> Clean and tag all other tools</a></li>
  <li><a href="#final-merge-and-labeling" id="toc-final-merge-and-labeling" class="nav-link" data-scroll-target="#final-merge-and-labeling"><span class="header-section-number">4.4</span> Final merge and labeling</a></li>
  </ul></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">5</span> Analysis</a>
  <ul>
  <li><a href="#stratified-random-sampling" id="toc-stratified-random-sampling" class="nav-link" data-scroll-target="#stratified-random-sampling"><span class="header-section-number">5.1</span> Stratified random sampling</a></li>
  <li><a href="#inter-rater-agreement" id="toc-inter-rater-agreement" class="nav-link" data-scroll-target="#inter-rater-agreement"><span class="header-section-number">5.2</span> Inter-rater agreement</a>
  <ul>
  <li><a href="#publisher-level-data" id="toc-publisher-level-data" class="nav-link" data-scroll-target="#publisher-level-data"><span class="header-section-number">5.2.1</span> 1. Publisher-level data</a></li>
  <li><a href="#study-level-data" id="toc-study-level-data" class="nav-link" data-scroll-target="#study-level-data"><span class="header-section-number">5.2.2</span> 2. Study-level data</a></li>
  </ul></li>
  <li><a href="#research-questions-1" id="toc-research-questions-1" class="nav-link" data-scroll-target="#research-questions-1"><span class="header-section-number">5.3</span> Research questions</a>
  <ul>
  <li><a href="#research-question-1" id="toc-research-question-1" class="nav-link" data-scroll-target="#research-question-1"><span class="header-section-number">5.3.1</span> Research question 1</a>
  <ul class="collapse">
  <li><a href="#total-number-of-studies" id="toc-total-number-of-studies" class="nav-link" data-scroll-target="#total-number-of-studies"><span class="header-section-number">5.3.1.1</span> Total number of studies</a></li>
  <li><a href="#count-of-studies-per-tool" id="toc-count-of-studies-per-tool" class="nav-link" data-scroll-target="#count-of-studies-per-tool"><span class="header-section-number">5.3.1.2</span> Count of studies per tool</a></li>
  <li><a href="#count-of-studies-per-year-per-tool" id="toc-count-of-studies-per-year-per-tool" class="nav-link" data-scroll-target="#count-of-studies-per-year-per-tool"><span class="header-section-number">5.3.1.3</span> Count of studies per year per tool</a></li>
  <li><a href="#top-10-most-cited-studies-overall-per-tool" id="toc-top-10-most-cited-studies-overall-per-tool" class="nav-link" data-scroll-target="#top-10-most-cited-studies-overall-per-tool"><span class="header-section-number">5.3.1.4</span> Top 10 most cited studies overall per tool</a></li>
  <li><a href="#top-10-highest-cites_per_year-per-tool" id="toc-top-10-highest-cites_per_year-per-tool" class="nav-link" data-scroll-target="#top-10-highest-cites_per_year-per-tool"><span class="header-section-number">5.3.1.5</span> Top 10 highest <code>cites_per_year</code> per tool</a></li>
  <li><a href="#average-cites_per_year-over-time-per-tool" id="toc-average-cites_per_year-over-time-per-tool" class="nav-link" data-scroll-target="#average-cites_per_year-over-time-per-tool"><span class="header-section-number">5.3.1.6</span> Average <code>cites_per_year</code> over time per tool</a></li>
  <li><a href="#publishers" id="toc-publishers" class="nav-link" data-scroll-target="#publishers"><span class="header-section-number">5.3.1.7</span> Publishers</a></li>
  </ul></li>
  <li><a href="#research-question-2" id="toc-research-question-2" class="nav-link" data-scroll-target="#research-question-2"><span class="header-section-number">5.3.2</span> Research question 2</a></li>
  <li><a href="#research-question-3" id="toc-research-question-3" class="nav-link" data-scroll-target="#research-question-3"><span class="header-section-number">5.3.3</span> Research question 3</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#next-step" id="toc-next-step" class="nav-link" data-scroll-target="#next-step"><span class="header-section-number">6</span> Next Step</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <section id="background" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="background"><span class="header-section-number">1</span> Background</h2>
<p>When public climate and environmental justice (EJ) evidence is removed, restricted, or altered, a decade of downstream knowledge becomes harder to verify, reproduce, teach, or apply—especially for the communities and decisions that most need it.</p>
<p>This analysis explores how research studies have used five U.S. federal climate and EJ tools, including their topics and use cases.</p>
</section>
<section id="research-questions" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="research-questions"><span class="header-section-number">2</span> Research Questions</h2>
<p>This analysis focuses on three main questions:</p>
<ul>
<li>How many research papers or studies have cited or relied on the five U.S. federal climate and environmental justice tools that are threatened, not being maintained, or no longer publicly available?</li>
<li>What types of research topics occur most frequently overall and within each tool, and how do these topics vary by citation frequency?</li>
<li>In what ways are these tools used in research studies overall and within each tool, and how does their use vary by citation frequency?</li>
</ul>
</section>
<section id="data-sources" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="data-sources"><span class="header-section-number">3</span> Data Sources</h2>
<p>The climate and EJ tools assessed are:</p>
<ul>
<li>CEQ’s <strong>Climate and Economic Justice Screening Tool (CEJST)</strong></li>
<li>EPA’s <strong>EJScreen</strong></li>
<li>USDA Forest Service’s <strong>Climate Risk Viewer (CRV)</strong></li>
<li>FEMA’s <strong>Future Risk Index (FRI)</strong></li>
<li>CDC’s <strong>Environmental Justice Index (EJI)</strong></li>
</ul>
<p>All data were collected from <strong>Google Scholar</strong> and last refreshed on <strong>September 15, 2025</strong>.</p>
<p>Raw datasets are stored in the <code>01_raw_data/</code> folder. This script cleans and merges them into analysis-ready datasets.</p>
</section>
<section id="cleaning" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="cleaning"><span class="header-section-number">4</span> Cleaning</h2>
<p>I first load all required packages for data handling, cleaning, and visualization.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [1]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Folder structure helpers</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/elhamali/Documents/Data Projects/climate-ej-tools-publications</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ezknitr)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Data cleaning &amp; analysis</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ purrr     1.1.0
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'

The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vcd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: grid</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Visualization</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo 
Highcharts (www.highcharts.com) is a Highsoft software product which is
not free for commercial and Governmental use</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'igraph'

The following objects are masked from 'package:lubridate':

    %--%, union

The following objects are masked from 'package:dplyr':

    as_data_frame, groups, union

The following objects are masked from 'package:purrr':

    compose, simplify

The following object is masked from 'package:tidyr':

    crossing

The following object is masked from 'package:tibble':

    as_data_frame

The following objects are masked from 'package:stats':

    decompose, spectrum

The following object is masked from 'package:base':

    union</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
<section id="import-raw-data" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="import-raw-data"><span class="header-section-number">4.1</span> Import raw data</h3>
<p>All <code>.csv</code> files from the <code>01_raw_data/</code> folder are imported and saved as <code>.rds</code> files in <code>05_cleaned_datasets/</code>.</p>
<p>Saving as <code>.rds</code> helps preserve structure and improves loading speed later.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [2]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List all CSV files</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>csv_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">path    =</span> <span class="fu">here</span>(<span class="st">"01_raw_data"</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">.csv$"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">full.names =</span> <span class="cn">TRUE</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Read into a list of dataframes</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>datasets <span class="ot">&lt;-</span> <span class="fu">map</span>(csv_files, read.csv)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(datasets) <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">file_path_sans_ext</span>(<span class="fu">basename</span>(csv_files))</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Save each dataset as .rds in 05_cleaned_datasets/</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="fu">walk2</span>(</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  datasets,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(datasets),</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> <span class="fu">saveRDS</span>(.x, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="fu">paste0</span>(.y, <span class="st">".rds"</span>)))</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="merge-ejscreen-datasets" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="merge-ejscreen-datasets"><span class="header-section-number">4.2</span> Merge EJScreen datasets</h3>
<p>Google Scholar limits exports to 1,000 records per search <span class="citation" data-cites="harzing2025">(<a href="#ref-harzing2025" role="doc-biblioref">Harzing 2025</a>)</span>.<br>
</p>
<p>Because EJScreen returned more than this, I split it into four parts (<code>ejscreen_1</code>–<code>ejscreen_4</code>). Here, I merge them into a single dataframe.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [3]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List EJScreen RDS files</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>ejscreen_files <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">"^ejscreen_</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.rds$"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Read, tag, clean variable names</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>ejscreen_list <span class="ot">&lt;-</span> <span class="fu">map</span>(ejscreen_files, <span class="sc">~</span> {</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readRDS</span>(.x) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">source_file =</span> tools<span class="sc">::</span><span class="fu">file_path_sans_ext</span>(<span class="fu">basename</span>(.x))) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge into one dataframe</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>ejscreen_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(ejscreen_list)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick check on dimensions</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(ejscreen_all)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1258   27</code></pre>
</div>
</div></div>
</section>
<section id="clean-and-tag-all-other-tools" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="clean-and-tag-all-other-tools"><span class="header-section-number">4.3</span> Clean and tag all other tools</h3>
<p>I apply the same process to the other tools—CEJST, CRV, EJI, and FRI—to ensure consistency. Each dataset is:</p>
<ul>
<li>Standardized to <code>snake_case</code> column names</li>
<li>Tagged with its source file and tool name</li>
<li>Type-converted for appropriate variable formats</li>
</ul>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [4]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function: read, clean names, add provenance, type-convert</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>read_clean_tag <span class="ot">&lt;-</span> <span class="cf">function</span>(path) {</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(path) <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  source_stem <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">file_path_sans_ext</span>(<span class="fu">basename</span>(path)) <span class="co"># e.g., "ejscreen_1" or "cejst"</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">|&gt;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">source_file =</span> source_stem,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">tool_name   =</span> <span class="fu">sub</span>(<span class="st">"_</span><span class="sc">\\</span><span class="st">d+$"</span>, <span class="st">""</span>, source_stem) <span class="co"># "ejscreen_1" -&gt; "ejscreen"; "cejst" -&gt; "cejst"</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    readr<span class="sc">::</span><span class="fu">type_convert</span>(</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">col_types =</span> readr<span class="sc">::</span><span class="fu">cols</span>(<span class="at">.default =</span> readr<span class="sc">::</span><span class="fu">col_guess</span>())</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character), trimws))</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Process other tools</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>other_tools <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cejst"</span>, <span class="st">"crv"</span>, <span class="st">"eji"</span>, <span class="st">"fri"</span>)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>other_paths <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="fu">paste0</span>(other_tools, <span class="st">".rds"</span>))</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>other_list <span class="ot">&lt;-</span> other_paths <span class="sc">|&gt;</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="sc">~</span> tools<span class="sc">::</span><span class="fu">file_path_sans_ext</span>(<span class="fu">basename</span>(.x))) <span class="sc">|&gt;</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(read_clean_tag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="final-merge-and-labeling" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="final-merge-and-labeling"><span class="header-section-number">4.4</span> Final merge and labeling</h3>
<p>Finally, I merge all tools into one dataset and standardize metadata. Steps include:</p>
<ul>
<li><p>Harmonizing date formats</p></li>
<li><p>Mapping tool codes (e.g., <code>ejscreen</code>) to their full names</p></li>
<li><p>Dropping empty or placeholder columns</p></li>
</ul>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [5]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper: coerce anything date-like into Date</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>to_Date <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">inherits</span>(x, <span class="st">"Date"</span>)) {</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">inherits</span>(x, <span class="st">"POSIXt"</span>)) {</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as_date</span>(x))</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as_date</span>(<span class="fu">as.POSIXct</span>(x, <span class="at">origin =</span> <span class="st">"1970-01-01"</span>, <span class="at">tz =</span> <span class="st">"UTC"</span>)))</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.character</span>(x)) {</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">suppressWarnings</span>({</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>      dt <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(x, <span class="at">quiet =</span> <span class="cn">TRUE</span>, <span class="at">tz =</span> <span class="st">"UTC"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>      idx <span class="ot">&lt;-</span> <span class="fu">is.na</span>(dt)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">any</span>(idx)) dt[idx] <span class="ot">&lt;-</span> <span class="fu">ymd</span>(x[idx], <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>      idx <span class="ot">&lt;-</span> <span class="fu">is.na</span>(dt)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">any</span>(idx)) dt[idx] <span class="ot">&lt;-</span> <span class="fu">mdy</span>(x[idx], <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>      idx <span class="ot">&lt;-</span> <span class="fu">is.na</span>(dt)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">any</span>(idx)) dt[idx] <span class="ot">&lt;-</span> <span class="fu">dmy</span>(x[idx], <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as_date</span>(dt))</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_date</span>(<span class="fu">as.character</span>(x))</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply date coercion</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">exists</span>(<span class="st">"ejscreen_all"</span>) <span class="sc">&amp;&amp;</span> <span class="st">"query_date"</span> <span class="sc">%in%</span> <span class="fu">names</span>(ejscreen_all)) {</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  ejscreen_all <span class="ot">&lt;-</span> ejscreen_all <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">query_date =</span> <span class="fu">to_Date</span>(query_date))</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">exists</span>(<span class="st">"other_list"</span>)) {</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  other_list <span class="ot">&lt;-</span> other_list <span class="sc">%&gt;%</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(<span class="sc">~</span> <span class="cf">if</span> (<span class="st">"query_date"</span> <span class="sc">%in%</span> <span class="fu">names</span>(.x)) <span class="fu">mutate</span>(.x, <span class="at">query_date =</span> <span class="fu">to_Date</span>(query_date)) <span class="cf">else</span> .x)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  other_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge all datasets</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>all_tools <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(ejscreen_all, <span class="sc">!!!</span>other_list)</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Map tool codes to full names</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>all_tools <span class="ot">&lt;-</span> all_tools <span class="sc">%&gt;%</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">source_file =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(source_file) <span class="sc">|</span> source_file <span class="sc">==</span> <span class="st">""</span>,</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coalesce</span>(source_file, tool_name), source_file</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_tool =</span> <span class="fu">sub</span>(<span class="st">"_</span><span class="sc">\\</span><span class="st">d+$"</span>, <span class="st">""</span>, source_file), <span class="co"># ejscreen_1 -&gt; ejscreen</span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_name =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>      base_tool,</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">ejscreen =</span> <span class="st">"EJScreen"</span>,</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">cejst    =</span> <span class="st">"Climate and Economic Justice Screening Tool (CEJST)"</span>,</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">crv      =</span> <span class="st">"Climate Risk Viewer"</span>,</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">fri      =</span> <span class="st">"Future Risk Index (FRI)"</span>,</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">eji      =</span> <span class="st">"Environmental Justice Index (EJI)"</span>,</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> tool_name <span class="co"># keep whatever was there if not matched</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>base_tool)</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop empty placeholder columns</span></span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>all_tools <span class="ot">&lt;-</span> all_tools <span class="sc">%&gt;%</span></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>dplyr<span class="sc">::</span><span class="fu">any_of</span>(<span class="fu">c</span>(<span class="st">"issn"</span>, <span class="st">"citation_url"</span>, <span class="st">"volume"</span>,</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"issue"</span>, <span class="st">"start_page"</span>, <span class="st">"end_page"</span>))</span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Save combined dataset</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(all_tools, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_tools.rds"</span>))</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(all_tools, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_tools.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
</section>
<section id="analysis" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="analysis"><span class="header-section-number">5</span> Analysis</h2>
<section id="stratified-random-sampling" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="stratified-random-sampling"><span class="header-section-number">5.1</span> Stratified random sampling</h3>
<p>For sampling, I selected <strong>10% of the full dataset</strong> collected in <strong>August 2025</strong> (prior to the September 15 refresh, which was a slightly bigger sample). The total number of studies from our September refresh was 2,212.</p>
<ul>
<li><p><strong>Studies dataset:</strong> 2,170 total → 217 sampled</p></li>
<li><p><strong>Publishers dataset:</strong> 387 total → 40 sampled</p></li>
</ul>
<p>Sampling was <strong>stratified by <code>tool_name</code></strong> to ensure each tool was proportionally represented in the study sample. Both the <strong>study</strong> and <strong>publisher</strong> subsets were then <strong>double-coded</strong> to calculate inter-rater agreement (IRA).</p>
<p>For the <strong>publishers</strong>, we used a simple random sample generated in Excel rather than R.</p>
<p>A helpful reference for this approach is <em>“Stratified Sampling in R: A Practical Guide with Base R and dplyr”</em> <span class="citation" data-cites="sanderson2024">(<a href="#ref-sanderson2024" role="doc-biblioref">Sanderson 2024</a>)</span>.</p>
<p>The code below shows the stratified sampling method used for the <strong>studies dataset</strong> only.</p>
<p>I considered two allocation approaches:</p>
<ol type="1">
<li><p><strong>Proportional-only allocation</strong> (222 total). Each tool receives a number of samples proportional to its share of the full dataset. This preserves representativeness, but smaller tools (e.g., CRV and FRI) end up with too few studies to analyze meaningfully</p></li>
<li><p><strong>Proportional with a minimum floor</strong> (222 total, MIN = 10). Every tool receives at least <strong>10 studies</strong> (or all available if fewer exist). Larger tools such as <strong>EJScreen</strong> and <strong>CEJST</strong> contribute slightly fewer cases to make room for smaller tools.</p></li>
</ol>
<p>I chose the <strong>minimum floor approach</strong> because it ensures that smaller tools are sufficiently represented for meaningful analysis and coder agreement checks.</p>
<p><strong>Tradeoff:</strong></p>
<ul>
<li><p><em>Proportional-only</em>: best for a population-level snapshot but leaves small strata nearly invisible.</p></li>
<li><p><em>Floor allocation</em>: best for balanced comparisons across tools.</p></li>
</ul>
<p>The final distribution of the <strong>double-coded sample</strong> is shown below:</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [6]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2025</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>all_tools <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_tools.rds"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">year =</span> <span class="fu">as.integer</span>(year),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">study_id =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>()</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>TOTAL <span class="ot">&lt;-</span> <span class="fu">nrow</span>(all_tools) <span class="co"># should be 2212</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>SAMPLE_TOTAL <span class="ot">&lt;-</span> <span class="fu">ceiling</span>(TOTAL <span class="sc">*</span> <span class="fl">0.10</span>) <span class="co"># 10% =&gt; 221 (but we did 217 based on an older data pull)</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>MIN_PER_TOOL <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="co"># floor per tool</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>EXPAND_TOTAL <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># expand total if needed</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Allocation with per-tool minimums, then proportional distribution</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>tool_counts <span class="ot">&lt;-</span> all_tools <span class="sc">%&gt;%</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tool_name, <span class="at">name =</span> <span class="st">"n_tool"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_tool))</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Floors (min 10, capped at availability)</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>floor_alloc <span class="ot">&lt;-</span> tool_counts <span class="sc">%&gt;%</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">floor =</span> <span class="fu">pmin</span>(n_tool, MIN_PER_TOOL))</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>reserved <span class="ot">&lt;-</span> <span class="fu">sum</span>(floor_alloc<span class="sc">$</span>floor)</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (reserved <span class="sc">&gt;</span> SAMPLE_TOTAL) {</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (EXPAND_TOTAL) {</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>    SAMPLE_TOTAL <span class="ot">&lt;-</span> reserved</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Minimum per-tool exceeds total sample. "</span>,</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Lower `min_per_tool` or allow expand."</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>remaining <span class="ot">&lt;-</span> SAMPLE_TOTAL <span class="sc">-</span> reserved</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Proportional extras after floors</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>alloc <span class="ot">&lt;-</span> floor_alloc <span class="sc">%&gt;%</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">capacity =</span> <span class="fu">pmax</span>(<span class="dv">0</span>, n_tool <span class="sc">-</span> floor))</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (remaining <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;&amp;</span> <span class="fu">sum</span>(alloc<span class="sc">$</span>capacity) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>  alloc <span class="ot">&lt;-</span> alloc <span class="sc">%&gt;%</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">weight     =</span> capacity <span class="sc">/</span> <span class="fu">sum</span>(capacity),</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">extra_raw  =</span> remaining <span class="sc">*</span> weight,</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">extra_base =</span> <span class="fu">floor</span>(extra_raw),</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">remainder  =</span> extra_raw <span class="sc">-</span> extra_base</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>  leftover <span class="ot">&lt;-</span> remaining <span class="sc">-</span> <span class="fu">sum</span>(alloc<span class="sc">$</span>extra_base)</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>  alloc <span class="ot">&lt;-</span> alloc <span class="sc">%&gt;%</span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(remainder)) <span class="sc">%&gt;%</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">extra =</span> extra_base <span class="sc">+</span> <span class="fu">if_else</span>(<span class="fu">row_number</span>() <span class="sc">&lt;=</span> leftover, <span class="dv">1</span>L, <span class="dv">0</span>L)) <span class="sc">%&gt;%</span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n_tool))</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>  alloc <span class="ot">&lt;-</span> alloc <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">extra =</span> <span class="dv">0</span>L)</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Final allocation</span></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>alloc <span class="ot">&lt;-</span> alloc <span class="sc">%&gt;%</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">alloc =</span> <span class="fu">pmin</span>(n_tool, floor <span class="sc">+</span> extra))</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>tool_alloc <span class="ot">&lt;-</span> alloc <span class="sc">%&gt;%</span></span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tool_name, n_tool, alloc)</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">sum</span>(tool_alloc<span class="sc">$</span>alloc) <span class="sc">==</span> SAMPLE_TOTAL)</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Stratified random sample</span></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>orig_cols <span class="ot">&lt;-</span> <span class="fu">names</span>(all_tools)</span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>sample_primary <span class="ot">&lt;-</span> all_tools <span class="sc">%&gt;%</span></span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(tool_alloc, <span class="at">by =</span> <span class="st">"tool_name"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tool_name) <span class="sc">%&gt;%</span></span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_modify</span>(<span class="sc">~</span> dplyr<span class="sc">::</span><span class="fu">slice_sample</span>(.x, <span class="at">n =</span> <span class="fu">unique</span>(.x<span class="sc">$</span>alloc))) <span class="sc">%&gt;%</span></span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">double_code   =</span> <span class="cn">TRUE</span>,</span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic_cat     =</span> <span class="cn">NA_character_</span>,</span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_use_type =</span> <span class="cn">NA_character_</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(orig_cols), double_code, topic_cat, tool_use_type)</span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">nrow</span>(sample_primary) <span class="sc">==</span> SAMPLE_TOTAL)</span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Save 05_cleaned_datasetss (to 05_cleaned_datasets/ folder)</span></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a>sample_primary <span class="sc">%&gt;%</span></span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tool_name) <span class="sc">%&gt;%</span></span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  tool_name                                               n
  &lt;chr&gt;                                               &lt;int&gt;
1 EJScreen                                              111
2 Climate and Economic Justice Screening Tool (CEJST)    75
3 Environmental Justice Index (EJI)                      19
4 Climate Risk Viewer                                    11
5 Future Risk Index (FRI)                                 6</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(tool_alloc, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"alloc_with_min_floor.csv"</span>))</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(sample_primary, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"double_code_sample.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
<p>To support manual coding, I created an initial <strong>codebook</strong> with draft topic and tool-use categories. I’ll continue refining it by adding clear <strong>definitions</strong>, <strong>inclusion and exclusion criteria</strong>, and <strong>examples</strong> as the coding scheme develops.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [7]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Starter codebook for manual coding</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>topic_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Air quality / pollution"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Health impacts"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Extreme heat / climate risk"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Transportation"</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Land use / housing"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Energy / utilities"</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Water / flooding"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Equity / policy &amp; governance"</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>tool_use_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Applied (used for analysis/targeting)"</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Evaluated (validated/benchmarked the tool)"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Critiqued (limitations/methodological critique)"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Mentioned/Context (used for background)"</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>codebook <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">variable =</span> <span class="fu">c</span>(</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="st">"topic_cat"</span>, <span class="fu">length</span>(topic_levels)),</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="st">"tool_use_type"</span>, <span class="fu">length</span>(tool_use_levels))</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">code =</span> <span class="fu">c</span>(topic_levels, tool_use_levels),</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">definition =</span> <span class="cn">NA_character_</span>, <span class="co"># fill in</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">include_if =</span> <span class="cn">NA_character_</span>, <span class="co"># fill in</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclude_if =</span> <span class="cn">NA_character_</span>, <span class="co"># fill in</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">examples =</span> <span class="cn">NA_character_</span> <span class="co"># fill in small examples/keywords</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(codebook, <span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"codebook_topic_tool_use.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="inter-rater-agreement" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="inter-rater-agreement"><span class="header-section-number">5.2</span> Inter-rater agreement</h3>
<p>Before running the analysis, I’ll import two datasets that my colleagues and I collaborated on. These datasets include our manual categorizations of studies and their publishers.</p>
<p><strong>1. Study-level data</strong></p>
<ul>
<li><code>all_studies_ira.csv</code>: A collaborator and I manually categorized publishers for about <strong>10% of the sample</strong>. This dataset is used to calculate <strong>inter-rater agreement (IRA)</strong> and identify where our categorizations differed or aligned.</li>
<li><code>all_studies_finalized.csv</code>: This is the <strong>final dataset</strong> after we reviewed disagreements and reached consensus. We updated the <strong>codebook</strong> accordingly, and applied the final categories to the full dataset. I will use this version for analyzing relevant research questions.
<ul>
<li>The corresponding codebook, <strong><code>codebook_studies.csv</code></strong>, is located in the <code>codebooks/</code> folder.</li>
<li>It defines <strong>four categories</strong> of study classification like applied, mentioned/context, etc. for a total of <strong>10 subcategories.</strong></li>
</ul></li>
</ul>
<p><strong>2. Publisher-level data</strong></p>
<ul>
<li><code>all_publishers_ira.csv</code>: Similar to the studies dataset, a collaborator and I manually categorized about <strong>11% of publishers</strong>. This subset is used to assess IRA.</li>
<li><code>all_publishers_finalized.csv</code>: The <strong>finalized version</strong> after resolving disagreements and updating the codebook. I will use this version for analyzing relevant research questions.
<ul>
<li>The corresponding codebook, <code>codebook_publishers.csv</code>, is in the <code>codebooks/</code> folder.</li>
<li>It defines <strong>10 publisher types</strong>, ranging from <em>commercial academic publishers</em> to <em>grey literature platforms</em>.</li>
</ul></li>
</ul>
<p>The first step in this analysis is to calculate <strong>inter-rater agreement (IRA)</strong> at both the study and publisher levels using <strong>Cohen’s kappa</strong>, a statistical measure of rater agreement.</p>
<p>I chose this approach because relying on a single person to categorize studies or publishers can introduce bias. With two collaborators independently code each dataset, I can identify where our classifications <strong>converge</strong> and <strong>diverge</strong>, and quantify that level of agreement.</p>
<p>Cohen’s kappa adjusts for agreement that occurs <strong>by chance</strong> and produces a value between <strong>–1 and +1</strong>, where –1 indicates no agreement and +1 indicates almost perfect agreement. In practice, it functions like a <strong>correlation coefficient</strong> based on a cross-tabulation of each rater’s classifications.</p>
<p>As McHugh (2012) explains, <em>“the squaring of kappa translates conceptually to the amount of accuracy (i.e., the reverse of error) in the data due to congruence among the data collectors.”</em></p>
<p><strong>Interpretation of Cohen’s kappa</strong> <span class="citation" data-cites="mchugh2012">(<a href="#ref-mchugh2012" role="doc-biblioref">McHugh 2012</a>)</span></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Value of Kappa</th>
<th style="text-align: center;">Level of Agreement</th>
<th style="text-align: center;">% of Data that are Reliable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0–.20</td>
<td style="text-align: center;">None</td>
<td style="text-align: center;">0–4%</td>
</tr>
<tr class="even">
<td style="text-align: center;">.21–.39</td>
<td style="text-align: center;">Minimal</td>
<td style="text-align: center;">4–15%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">.40–.59</td>
<td style="text-align: center;">Weak</td>
<td style="text-align: center;">15–35%</td>
</tr>
<tr class="even">
<td style="text-align: center;">.60–.79</td>
<td style="text-align: center;">Moderate</td>
<td style="text-align: center;">35–63%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">.80–.90</td>
<td style="text-align: center;">Strong</td>
<td style="text-align: center;">64–81%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Above.90</td>
<td style="text-align: center;">Almost Perfect</td>
<td style="text-align: center;">82–100%</td>
</tr>
</tbody>
</table>
<p>A good resource that I’m following for IRA is <em>Cohen’s Kappa in R: For Two Categorical Variables</em> <span class="citation" data-cites="datanovia2025">(<a href="#ref-datanovia2025" role="doc-biblioref">Data Novia 2025</a>)</span>. Another is the <em>agreement package:</em> <a href="https://github.com/jmgirard/agreement" class="uri">https://github.com/jmgirard/agreement</a>.</p>
<section id="publisher-level-data" class="level4" data-number="5.2.1">
<h4 data-number="5.2.1" class="anchored" data-anchor-id="publisher-level-data"><span class="header-section-number">5.2.1</span> 1. Publisher-level data</h4>
<p>Cohen’s κ = 0.89 (95 % CI [0.79, 0.99], p &lt; 0.001) indicates <strong>almost perfect agreement</strong> between the two raters according to McHugh (2012). The raw percent agreement was 91 %.</p>
<p>Here’s how to read the results table:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 26%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th>Metric</th>
<th>Value</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Percent agreement</strong></td>
<td><code>0.909</code> (≈ 91%)</td>
<td>Raw proportion of identical ratings — shows high agreement overall</td>
</tr>
<tr class="even">
<td><strong>Unweighted Cohen’s κ</strong></td>
<td><code>0.8935</code></td>
<td>Agreement beyond chance</td>
</tr>
<tr class="odd">
<td><strong>Weighted Cohen’s κ</strong></td>
<td><code>0.8602</code></td>
<td>Takes into account partial agreement (useful for <em>ordinal</em> data — not critical here)</td>
</tr>
<tr class="even">
<td><strong>ASE</strong> (Asymptotic Std. Error)</td>
<td><code>0.0505</code></td>
<td>Measures uncertainty of κ estimate</td>
</tr>
<tr class="odd">
<td><strong>z</strong></td>
<td><code>17.69</code></td>
<td>Test statistic for H₀ : κ = 0 (no agreement beyond chance)</td>
</tr>
<tr class="even">
<td><strong>p-value</strong></td>
<td><code>4.78 × 10⁻⁷⁰</code></td>
<td>Extremely small → reject H₀; the raters’ agreement is highly significant</td>
</tr>
<tr class="odd">
<td><strong>95% CI (Unweighted)</strong></td>
<td>0.79 – 0.99</td>
<td>Even the lower bound (0.79) indicates strong agreement</td>
</tr>
</tbody>
</table>
<p><strong>Note on sample size for inter-rater agreement</strong> Although the full dataset (<code>all_publishers_ira.csv</code>) contains 387 records, only the first 44 rows were double-coded by both raters (11% of the sample).</p>
<p>The remaining rows include missing or unassigned categories for at least one rater. Because <code>table()</code> in R automatically excludes <code>NA</code> values when computing cross-tabulations, the Cohen’s Kappa and percent agreement calculations below are effectively based on those 44 complete cases.</p>
<p>So, this code can be reused with any dataset of similar structure without needing to hardcode a row range. The computation will always use only non-missing, valid pairs of rater classifications.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [8]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import publisher file</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>all_publishers_ira <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"02_processed_data"</span>, <span class="st">"all_publishers_ira.csv"</span>),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">show_col_types =</span> <span class="cn">FALSE</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>, <span class="st">"N/A"</span>, <span class="st">"NULL"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Enforce types</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>all_publishers_ira <span class="ot">&lt;-</span> all_publishers_ira <span class="sc">|&gt;</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher        =</span> <span class="fu">as.character</span>(publisher),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">n                =</span> <span class="fu">as.integer</span>(n),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">pub_type_rater_1 =</span> <span class="fu">as.character</span>(pub_type_rater_1),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">pub_type_rater_2 =</span> <span class="fu">as.character</span>(pub_type_rater_2),</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">description      =</span> <span class="fu">as.character</span>(description)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Define category levels</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>kappa_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Commercial academic publishers"</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"University presses"</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Open access publishers"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Preprint / working paper servers"</span>,</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Government repositories"</span>,</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Legal / policy databases"</span>,</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"University / institutional repositories"</span>,</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Grey literature platforms"</span>,</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Scholarly society / association publishers"</span>,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"None/Unknown"</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply factor levels</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>all_publishers_ira <span class="ot">&lt;-</span> all_publishers_ira <span class="sc">|&gt;</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">pub_type_rater_1 =</span> <span class="fu">factor</span>(pub_type_rater_1, <span class="at">levels =</span> kappa_levels),</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">pub_type_rater_2 =</span> <span class="fu">factor</span>(pub_type_rater_2, <span class="at">levels =</span> kappa_levels)</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Use to check for the recoding results</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a><span class="co"># table(all_publishers_ira$pub_type_rater_1, useNA = "ifany")</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a><span class="co"># table(all_publishers_ira$pub_type_rater_2, useNA = "ifany")</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Build contingency table and compute Cohen's Kappa</span></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a><span class="co"># (Unweighted Kappa corresponds to Cohen’s kappa for two raters)</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>tab_10x10 <span class="ot">&lt;-</span> <span class="fu">table</span>(</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater1 =</span> all_publishers_ira<span class="sc">$</span>pub_type_rater_1,</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater2 =</span> all_publishers_ira<span class="sc">$</span>pub_type_rater_2</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>kappa_res <span class="ot">&lt;-</span> vcd<span class="sc">::</span><span class="fu">Kappa</span>(tab_10x10)</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>kappa_res</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            value     ASE     z  Pr(&gt;|z|)
Unweighted 0.8935 0.05050 17.69 4.780e-70
Weighted   0.8602 0.07517 11.44 2.536e-30</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(kappa_res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
Kappa              lwr      upr
  Unweighted 0.7944860 0.992439
  Weighted   0.7129097 1.000000</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple percent agreement for context</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>percent_agreement <span class="ot">&lt;-</span> <span class="fu">mean</span>(all_publishers_ira<span class="sc">$</span>pub_type_rater_1 <span class="sc">==</span> all_publishers_ira<span class="sc">$</span>pub_type_rater_2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>percent_agreement</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9090909</code></pre>
</div>
</div></div>
</section>
<section id="study-level-data" class="level4" data-number="5.2.2">
<h4 data-number="5.2.2" class="anchored" data-anchor-id="study-level-data"><span class="header-section-number">5.2.2</span> 2. Study-level data</h4>
<p>For the <strong>topic category coding</strong>, Cohen’s κ = 0.32 (95 % CI [0.24, 0.39], <em>p</em> &lt; 0.001) indicates <strong>minimal agreement</strong> between the two raters according to McHugh (2012). The raw percent agreement was <strong>39%</strong>.</p>
<p>For the <strong>tool-use type coding</strong>, Cohen’s κ = 0.16 (95 % CI [0.09, 0.22], <em>p</em> &lt; 0.001) reflects <strong>no agreement</strong> between raters. The raw percent agreement was <strong>32%</strong>.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [9]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import publisher file</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sample_studies_ira <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"02_processed_data"</span>, <span class="st">"double_code_sample_ira.csv"</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">show_col_types =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>, <span class="st">"N/A"</span>, <span class="st">"NULL"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Enforce types ONLY for IRA-relavent variables</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>sample_studies_ira <span class="ot">&lt;-</span> sample_studies_ira <span class="sc">%&gt;%</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic_cat_rater_1      =</span> <span class="fu">as.character</span>(topic_cat_rater_1),</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic_cat_rater_2      =</span> <span class="fu">as.character</span>(topic_cat_rater_2),</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_use_type_rater_1  =</span> <span class="fu">as.character</span>(tool_use_type_rater_1),</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_use_type_rater_2  =</span> <span class="fu">as.character</span>(tool_use_type_rater_2)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Define factor levels</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>topic_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Air quality &amp; pollution"</span>,</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Health &amp; well-being"</span>,</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Climate hazards &amp; risks"</span>,</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Transit, mobility &amp; transportation"</span>,</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Land use, housing &amp; built environment infrastructure"</span>,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Energy &amp; decarbonization"</span>,</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Water resources &amp; flooding"</span>,</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Natural environment, resources &amp; ecosystems"</span>,</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Governance, policy &amp; institutional frameworks"</span>,</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Equity and justice"</span>,</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Economy, labor &amp; development"</span>,</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Community engagement &amp; knowledge"</span>,</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Other"</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>tool_use_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Applied"</span>,</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Evaluated"</span>,</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Critiqued"</span>,</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Mentioned/Context"</span>,</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"None"</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply factor levels</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>sample_studies_ira <span class="ot">&lt;-</span> sample_studies_ira <span class="sc">%&gt;%</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic_cat_rater_1     =</span> <span class="fu">factor</span>(topic_cat_rater_1, <span class="at">levels =</span> topic_levels),</span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic_cat_rater_2     =</span> <span class="fu">factor</span>(topic_cat_rater_2, <span class="at">levels =</span> topic_levels),</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_use_type_rater_1 =</span> <span class="fu">factor</span>(tool_use_type_rater_1, <span class="at">levels =</span> tool_use_levels),</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">tool_use_type_rater_2 =</span> <span class="fu">factor</span>(tool_use_type_rater_2, <span class="at">levels =</span> tool_use_levels)</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute Cohen's kappa for TOPIC</span></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>tab_topic <span class="ot">&lt;-</span> <span class="fu">table</span>(</span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater1 =</span> sample_studies_ira<span class="sc">$</span>topic_cat_rater_1,</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater2 =</span> sample_studies_ira<span class="sc">$</span>topic_cat_rater_2</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>kappa_topic <span class="ot">&lt;-</span> vcd<span class="sc">::</span><span class="fu">Kappa</span>(tab_topic)</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>pa_topic <span class="ot">&lt;-</span> <span class="fu">mean</span>(</span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>  sample_studies_ira<span class="sc">$</span>topic_cat_rater_1 <span class="sc">==</span> sample_studies_ira<span class="sc">$</span>topic_cat_rater_2,</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute Cohen's kappa for TOOL USE TYP</span></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>tab_tool <span class="ot">&lt;-</span> <span class="fu">table</span>(</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater1 =</span> sample_studies_ira<span class="sc">$</span>tool_use_type_rater_1,</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rater2 =</span> sample_studies_ira<span class="sc">$</span>tool_use_type_rater_2</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a>kappa_tool <span class="ot">&lt;-</span> vcd<span class="sc">::</span><span class="fu">Kappa</span>(tab_tool)</span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>pa_tool <span class="ot">&lt;-</span> <span class="fu">mean</span>(</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>  sample_studies_ira<span class="sc">$</span>tool_use_type_rater_1 <span class="sc">==</span> sample_studies_ira<span class="sc">$</span>tool_use_type_rater_2,</span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple percent agreement for TOPIC</span></span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a>percent_agreement_topic <span class="ot">&lt;-</span> <span class="fu">mean</span>(</span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>  sample_studies_ira<span class="sc">$</span>topic_cat_rater_1 <span class="sc">==</span> sample_studies_ira<span class="sc">$</span>topic_cat_rater_2,</span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>percent_agreement_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3921569</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple percent agreement for TOOL USE TYPE</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>percent_agreement_tool <span class="ot">&lt;-</span> <span class="fu">mean</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  sample_studies_ira<span class="sc">$</span>tool_use_type_rater_1 <span class="sc">==</span> sample_studies_ira<span class="sc">$</span>tool_use_type_rater_2,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>percent_agreement_tool</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3221154</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print key outputs</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>kappa_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            value     ASE     z  Pr(&gt;|z|)
Unweighted 0.3179 0.03726 8.534 1.415e-17
Weighted   0.3338 0.05020 6.649 2.956e-11</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(kappa_topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
Kappa              lwr       upr
  Unweighted 0.2449245 0.3909685
  Weighted   0.2353783 0.4321608</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pa_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3921569</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>kappa_tool</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            value     ASE     z  Pr(&gt;|z|)
Unweighted 0.1561 0.03340 4.673 2.966e-06
Weighted   0.2037 0.04214 4.834 1.336e-06</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(kappa_tool)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
Kappa               lwr       upr
  Unweighted 0.09063148 0.2215718
  Weighted   0.12112305 0.2863082</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>pa_tool</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3221154</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>summary_tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">variable          =</span> <span class="fu">c</span>(<span class="st">"topic_cat"</span>, <span class="st">"tool_use_type"</span>),</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kappa_unweighted  =</span> <span class="fu">c</span>(kappa_topic<span class="sc">$</span>Unweighted[<span class="st">"value"</span>], kappa_tool<span class="sc">$</span>Unweighted[<span class="st">"value"</span>]),</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">kappa_weighted    =</span> <span class="fu">c</span>(kappa_topic<span class="sc">$</span>Weighted[<span class="st">"value"</span>], kappa_tool<span class="sc">$</span>Weighted[<span class="st">"value"</span>]),</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">percent_agreement =</span> <span class="fu">c</span>(percent_agreement_topic, percent_agreement_tool)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>summary_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  variable      kappa_unweighted kappa_weighted percent_agreement
  &lt;chr&gt;                    &lt;dbl&gt;          &lt;dbl&gt;             &lt;dbl&gt;
1 topic_cat                0.318          0.334             0.392
2 tool_use_type            0.156          0.204             0.322</code></pre>
</div>
</div></div>
</section>
</section>
<section id="research-questions-1" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="research-questions-1"><span class="header-section-number">5.3</span> Research questions</h3>
<p>Before analyzing each research question, I will merge the publisher and study datasets.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [10]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the all studies finalized file</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>all_studies_finalized <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"02_processed_data"</span>, <span class="st">"all_studies_finalized.csv"</span>),</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">show_col_types =</span> <span class="cn">FALSE</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>, <span class="st">"N/A"</span>, <span class="st">"NULL"</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>out_clean <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>out_viz <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"06_viz_ready"</span>)</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(all_studies_finalized, <span class="fu">file.path</span>(out_clean, <span class="st">"all_studies_finalized.rds"</span>))</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Load finalized publishers</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>pub_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_publishers_finalized.rds"</span>)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>all_publishers_finalized <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(pub_path)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Create publisher lookup</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>pub_lookup <span class="ot">&lt;-</span> all_publishers_finalized <span class="sc">%&gt;%</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher =</span> <span class="fu">as.character</span>(publisher),</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">pub_type_rater_1 =</span> <span class="fu">as.character</span>(pub_type_rater_1),</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="fu">as.character</span>(description)</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(publisher), publisher <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(publisher, pub_type_rater_1, description)</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Enforce key types for studies</span></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>all_studies_finalized <span class="ot">&lt;-</span> all_studies_finalized <span class="sc">%&gt;%</span></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher        =</span> <span class="fu">as.character</span>(publisher),</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites            =</span> <span class="fu">as.integer</span>(cites),</span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">year             =</span> <span class="fu">as.integer</span>(year),</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">gs_rank          =</span> <span class="fu">as.integer</span>(gs_rank),</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">ecc              =</span> <span class="fu">as.integer</span>(ecc),</span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites_per_year   =</span> <span class="fu">as.numeric</span>(cites_per_year),</span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">cites_per_author =</span> <span class="fu">as.integer</span>(cites_per_author),</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">author_count     =</span> <span class="fu">as.integer</span>(author_count),</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">age              =</span> <span class="fu">as.integer</span>(age),</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">study_id         =</span> <span class="fu">as.integer</span>(study_id),</span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">query_date       =</span> <span class="cf">if</span> (<span class="fu">inherits</span>(query_date, <span class="st">"Date"</span>)) query_date <span class="cf">else</span> <span class="fu">as_date</span>(<span class="fu">ymd</span>(query_date))</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge publisher data into studies</span></span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a>all_studies_merged <span class="ot">&lt;-</span> all_studies_finalized <span class="sc">%&gt;%</span></span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(pub_lookup, <span class="at">by =</span> <span class="st">"publisher"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb48-47"><a href="#cb48-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher_type        =</span> pub_type_rater_1,</span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher_description =</span> description</span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher_type        =</span> <span class="fu">as.character</span>(publisher_type),</span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher_description =</span> <span class="fu">as.character</span>(publisher_description)</span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace missing publisher_type with "None/Unknown"</span></span>
<span id="cb48-56"><a href="#cb48-56" aria-hidden="true" tabindex="-1"></a>all_studies_merged <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb48-57"><a href="#cb48-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-58"><a href="#cb48-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">publisher_type =</span> <span class="fu">if_else</span>(</span>
<span id="cb48-59"><a href="#cb48-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(publisher_type) <span class="sc">|</span> publisher_type <span class="sc">==</span> <span class="st">""</span>,</span>
<span id="cb48-60"><a href="#cb48-60" aria-hidden="true" tabindex="-1"></a>      <span class="st">"None/Unknown"</span>,</span>
<span id="cb48-61"><a href="#cb48-61" aria-hidden="true" tabindex="-1"></a>      publisher_type</span>
<span id="cb48-62"><a href="#cb48-62" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb48-63"><a href="#cb48-63" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-64"><a href="#cb48-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-65"><a href="#cb48-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove studies with "None" tool_use_type (per codebook) because</span></span>
<span id="cb48-66"><a href="#cb48-66" aria-hidden="true" tabindex="-1"></a><span class="co"># we are not analyzing studies that have no relationships to the EJ tools</span></span>
<span id="cb48-67"><a href="#cb48-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude false positives / not-in-scope studies (See 03_codebooks/codebook_studies.* for definitions)</span></span>
<span id="cb48-68"><a href="#cb48-68" aria-hidden="true" tabindex="-1"></a>all_studies_merged <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb48-69"><a href="#cb48-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tool_use_type =</span> <span class="fu">as.character</span>(tool_use_type)) <span class="sc">|&gt;</span></span>
<span id="cb48-70"><a href="#cb48-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb48-71"><a href="#cb48-71" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(tool_use_type),</span>
<span id="cb48-72"><a href="#cb48-72" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_trim</span>(tool_use_type) <span class="sc">!=</span> <span class="st">"None"</span></span>
<span id="cb48-73"><a href="#cb48-73" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-74"><a href="#cb48-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-75"><a href="#cb48-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Save merged dataset</span></span>
<span id="cb48-76"><a href="#cb48-76" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(all_studies_merged, <span class="fu">file.path</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_studies_merged.csv"</span>))</span>
<span id="cb48-77"><a href="#cb48-77" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(all_studies_merged, <span class="fu">file.path</span>(<span class="st">"05_cleaned_datasets"</span>, <span class="st">"all_studies_merged.rds"</span>))</span>
<span id="cb48-78"><a href="#cb48-78" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">write_csv</span>(all_studies_merged, <span class="fu">file.path</span>(out_viz, <span class="st">"all_studies_merged.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
<section id="research-question-1" class="level4" data-number="5.3.1">
<h4 data-number="5.3.1" class="anchored" data-anchor-id="research-question-1"><span class="header-section-number">5.3.1</span> Research question 1</h4>
<p><em>How many research papers or studies have cited or relied on the five U.S. federal climate and environmental justice tools that are threatened, not being maintained, or no longer publicly available?</em></p>
<p>I will address each research question sequentially, cleaning and organizing the data throughout the analysis process. During this stage, I will prepare the data for exploration and export intermediate results as tidy CSV files for visualization and further analysis.</p>
<section id="total-number-of-studies" class="level5" data-number="5.3.1.1">
<h5 data-number="5.3.1.1" class="anchored" data-anchor-id="total-number-of-studies"><span class="header-section-number">5.3.1.1</span> Total number of studies</h5>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [11]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(all_studies_merged)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1826</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">total_studies =</span> <span class="fu">nrow</span>(all_studies_merged)),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"total_studies.csv"</span>)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="count-of-studies-per-tool" class="level5" data-number="5.3.1.2">
<h5 data-number="5.3.1.2" class="anchored" data-anchor-id="count-of-studies-per-tool"><span class="header-section-number">5.3.1.2</span> Count of studies per tool</h5>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [12]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df_tool <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tool_name, <span class="at">name =</span> <span class="st">"n_studies"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n_studies))</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  df_tool,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"column"</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(<span class="at">x =</span> tool_name, <span class="at">y =</span> n_studies)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Number of studies by tool"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_subtitle</span>(</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">"Total count of research papers citing or relying on each tool"</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Tool"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Number of studies"</span>),</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">allowDecimals =</span> <span class="cn">FALSE</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"&lt;b&gt;{point.y}&lt;/b&gt; studies"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_legend</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d2c77845a38e9adec13c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d2c77845a38e9adec13c">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Number of studies by tool"},"yAxis":{"title":{"text":"Number of studies"},"type":"linear","allowDecimals":false},"credits":{"enabled":false},"exporting":{"enabled":true},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"tool_name":"EJScreen","n_studies":985,"y":985,"name":"EJScreen"},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","n_studies":724,"y":724,"name":"Climate and Economic Justice Screening Tool (CEJST)"},{"tool_name":"Environmental Justice Index (EJI)","n_studies":113,"y":113,"name":"Environmental Justice Index (EJI)"},{"tool_name":"Climate Risk Viewer","n_studies":3,"y":3,"name":"Climate Risk Viewer"},{"tool_name":"Future Risk Index (FRI)","n_studies":1,"y":1,"name":"Future Risk Index (FRI)"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Tool"}},"subtitle":{"text":"Total count of research papers citing or relying on each tool"},"tooltip":{"pointFormat":"<b>{point.y}<\/b> studies"},"legend":{"enabled":false}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_tool, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"count_per_tool.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="count-of-studies-per-year-per-tool" class="level5" data-number="5.3.1.3">
<h5 data-number="5.3.1.3" class="anchored" data-anchor-id="count-of-studies-per-year-per-tool"><span class="header-section-number">5.3.1.3</span> Count of studies per year per tool</h5>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [13]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_year_tool <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tool_name, year, <span class="at">name =</span> <span class="st">"n_studies"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(tool_name, year)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  df_year_tool,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"line"</span>,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n_studies, <span class="at">group =</span> tool_name)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Studies over time by tool"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_subtitle</span>(</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">"Annual counts of studies citing or relying on each tool"</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Year"</span>), <span class="at">allowDecimals =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Number of studies"</span>),</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">allowDecimals =</span> <span class="cn">FALSE</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">crosshairs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">headerFormat =</span> <span class="st">"&lt;b&gt;Year: {point.key}&lt;/b&gt;&lt;br/&gt;"</span>,</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">pointFormat  =</span> <span class="st">"{series.name}: &lt;b&gt;{point.y}&lt;/b&gt;&lt;br/&gt;"</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_legend</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Tool"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-7304299373118d594d9b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7304299373118d594d9b">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Studies over time by tool"},"yAxis":{"title":{"text":"Number of studies"},"type":"linear","allowDecimals":false},"credits":{"enabled":false},"exporting":{"enabled":true},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Climate Risk Viewer","data":[{"tool_name":"Climate Risk Viewer","year":2025,"n_studies":1,"x":2025,"y":1}],"type":"line"},{"name":"Climate and Economic Justice Screening Tool (CEJST)","data":[{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2022,"n_studies":89,"x":2022,"y":89},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2023,"n_studies":179,"x":2023,"y":179},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2024,"n_studies":271,"x":2024,"y":271},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2025,"n_studies":143,"x":2025,"y":143}],"type":"line"},{"name":"EJScreen","data":[{"tool_name":"EJScreen","year":2016,"n_studies":6,"x":2016,"y":6},{"tool_name":"EJScreen","year":2017,"n_studies":1,"x":2017,"y":1},{"tool_name":"EJScreen","year":2018,"n_studies":6,"x":2018,"y":6},{"tool_name":"EJScreen","year":2019,"n_studies":6,"x":2019,"y":6},{"tool_name":"EJScreen","year":2020,"n_studies":9,"x":2020,"y":9},{"tool_name":"EJScreen","year":2021,"n_studies":50,"x":2021,"y":50},{"tool_name":"EJScreen","year":2022,"n_studies":244,"x":2022,"y":244},{"tool_name":"EJScreen","year":2023,"n_studies":219,"x":2023,"y":219},{"tool_name":"EJScreen","year":2024,"n_studies":242,"x":2024,"y":242},{"tool_name":"EJScreen","year":2025,"n_studies":157,"x":2025,"y":157}],"type":"line"},{"name":"Environmental Justice Index (EJI)","data":[{"tool_name":"Environmental Justice Index (EJI)","year":2022,"n_studies":1,"x":2022,"y":1},{"tool_name":"Environmental Justice Index (EJI)","year":2023,"n_studies":12,"x":2023,"y":12},{"tool_name":"Environmental Justice Index (EJI)","year":2024,"n_studies":50,"x":2024,"y":50},{"tool_name":"Environmental Justice Index (EJI)","year":2025,"n_studies":47,"x":2025,"y":47}],"type":"line"},{"name":"Future Risk Index (FRI)","data":[{"tool_name":"Future Risk Index (FRI)","year":2024,"n_studies":1,"x":2024,"y":1}],"type":"line"}],"xAxis":{"type":"linear","title":{"text":"Year"},"allowDecimals":false},"subtitle":{"text":"Annual counts of studies citing or relying on each tool"},"tooltip":{"shared":true,"crosshairs":true,"headerFormat":"<b>Year: {point.key}<\/b><br/>","pointFormat":"{series.name}: <b>{point.y}<\/b><br/>"},"legend":{"title":{"text":"Tool"}}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_year_tool, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"count_per_year_per_tool.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="top-10-most-cited-studies-overall-per-tool" class="level5" data-number="5.3.1.4">
<h5 data-number="5.3.1.4" class="anchored" data-anchor-id="top-10-most-cited-studies-overall-per-tool"><span class="header-section-number">5.3.1.4</span> Top 10 most cited studies overall per tool</h5>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [14]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df_top_cites <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(cites)) <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tool_name) <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> cites, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tool_name, year, title, cites, authors) <span class="sc">|&gt;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(tool_name, <span class="fu">desc</span>(cites))</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>df_top_cites</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34 × 5
   tool_name                                            year title cites authors
   &lt;chr&gt;                                               &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;  
 1 Climate Risk Viewer                                    NA USDA…    27 I Fore…
 2 Climate Risk Viewer                                    NA Fore…     0 A Duga…
 3 Climate Risk Viewer                                  2025 Fore…     0 PW Cla…
 4 Climate and Economic Justice Screening Tool (CEJST)  2023 Metr…    73 E Bake…
 5 Climate and Economic Justice Screening Tool (CEJST)  2023 Char…    68 PGT Le…
 6 Climate and Economic Justice Screening Tool (CEJST)  2022 Resi…    64 M Manw…
 7 Climate and Economic Justice Screening Tool (CEJST)  2023 Air …    62 Y Wang…
 8 Climate and Economic Justice Screening Tool (CEJST)  2022 Mapp…    59 D Raim…
 9 Climate and Economic Justice Screening Tool (CEJST)  2023 Eval…    45 S Kime…
10 Climate and Economic Justice Screening Tool (CEJST)  2024 Meas…    43 JA Cas…
# ℹ 24 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_top_cites, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"top10_cites_per_tool.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="top-10-highest-cites_per_year-per-tool" class="level5" data-number="5.3.1.5">
<h5 data-number="5.3.1.5" class="anchored" data-anchor-id="top-10-highest-cites_per_year-per-tool"><span class="header-section-number">5.3.1.5</span> Top 10 highest <code>cites_per_year</code> per tool</h5>
<p>This shows which studies are “most cited relative to their age.”</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [15]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>df_top_cpy <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(cites_per_year)) <span class="sc">|&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tool_name) <span class="sc">|&gt;</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> cites_per_year, <span class="at">n =</span> <span class="dv">10</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>df_top_cpy <span class="sc">|&gt;</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tool_name, year, title, cites_per_year, cites, authors) <span class="sc">|&gt;</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(tool_name, <span class="fu">desc</span>(cites_per_year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 34 × 6
   tool_name                             year title cites_per_year cites authors
   &lt;chr&gt;                                &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;  
 1 Climate Risk Viewer                     NA Fore…            0       0 A Duga…
 2 Climate Risk Viewer                     NA USDA…            0      27 I Fore…
 3 Climate Risk Viewer                   2025 Fore…            0       0 PW Cla…
 4 Climate and Economic Justice Screen…  2024 Meas…           43      43 JA Cas…
 5 Climate and Economic Justice Screen…  2024 Rece…           41      41 L Cain…
 6 Climate and Economic Justice Screen…  2023 Metr…           36.5    73 E Bake…
 7 Climate and Economic Justice Screen…  2024 Elec…           36      36 GJ Car…
 8 Climate and Economic Justice Screen…  2023 Char…           34      68 PGT Le…
 9 Climate and Economic Justice Screen…  2024 Heal…           31      31 T Xue,…
10 Climate and Economic Justice Screen…  2023 Air …           31      62 Y Wang…
# ℹ 24 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  df_top_cpy,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bar"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">reorder</span>(title, cites_per_year),</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> cites_per_year,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> tool_name</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Top 10 studies by cites per year, per tool"</span>) <span class="sc">|&gt;</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_subtitle</span>(</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">"Highlights studies with the highest relative citation rates"</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">title  =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Study title"</span>),</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>)</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Cites per year"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">pointFormat =</span> <span class="st">"&lt;b&gt;{point.y}&lt;/b&gt; cites/year&lt;br&gt;{point.tool_name}&lt;br&gt;"</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-31e1d2e86d5a1886ba67" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-31e1d2e86d5a1886ba67">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Top 10 studies by cites per year, per tool"},"yAxis":{"title":{"text":"Cites per year"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":true},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Climate Risk Viewer","data":[{"cites":0,"authors":"A Dugan, D McKinley, S Amiot, L Onofrio, J Maziasz, ...","title":"Forest Carbon Assessment for the Chequamegon-Nicolet National Forest in the Forest Service's Eastern Region","year":null,"source":"elpc.org","publisher":null,"article_url":"https://elpc.org/wp-content/uploads/2024/08/5.303_CNNF_CarbonAssessment-Paper.pdf","cites_url":null,"gs_rank":17,"query_date":"2025-08-29","type":"PDF","doi":null,"ecc":0,"cites_per_year":0,"cites_per_author":0,"author_count":6,"age":null,"abstract":"… A low amount of mature and old-growth stands indicated on the Chequamegon-Nicolet NF by data on the Climate Risk Viewer indicates the acreage of these forest conditions within the …","full_text_url":"https://elpc.org/wp-content/uploads/2024/08/5.303_CNNF_CarbonAssessment-Paper.pdf","related_url":"https://scholar.google.com/scholar?q=related:9f-IcJ3trOEJ:scholar.google.com/&scioq=%22climate+risk+viewer%22%7C%22usda+climate+risk+viewer%22%7C%22forest+service+climate+risk+viewer%22%7C%22usfs+climate+risk+viewer%22%7C%22climate+risk+mapping+tool+usda%22%7C%22usda+risk+viewer+climate%22%7C%22usda+climate+risk+tool%22%7C%22climate+risk+beta+viewer%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2025","source_file":"crv","tool_name":"Climate Risk Viewer","study_id":2028,"double_code":true,"topic_cat":"Natural environment, resources & ecosystems","tool_use_type":"Applied","publisher_type":"None/Unknown","publisher_description":null,"y":0,"name":"Forest Carbon Assessment for the Chequamegon-Nicolet National Forest in the Forest Service's Eastern Region"},{"cites":27,"authors":"I Forest, RE Station","title":"USDA Forest Service","year":null,"source":"Ogden, EUA","publisher":"fs.usda.gov","article_url":"https://www.fs.usda.gov/sites/default/files/fy24-agency-coordination-report.pdf","cites_url":"https://scholar.google.com/scholar?cites=10727333522832232180&as_sdt=2005&sciodt=2007&hl=en","gs_rank":2,"query_date":"2025-08-29","type":"PDF","doi":null,"ecc":27,"cites_per_year":0,"cites_per_author":14,"author_count":2,"age":null,"abstract":null,"full_text_url":"https://www.fs.usda.gov/sites/default/files/fy24-agency-coordination-report.pdf","related_url":"https://scholar.google.com/scholar?q=related:9A6OzwAl35QJ:scholar.google.com/&scioq=%22climate+risk+viewer%22%7C%22usda+climate+risk+viewer%22%7C%22forest+service+climate+risk+viewer%22%7C%22usfs+climate+risk+viewer%22%7C%22climate+risk+mapping+tool+usda%22%7C%22usda+risk+viewer+climate%22%7C%22usda+climate+risk+tool%22%7C%22climate+risk+beta+viewer%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2025","source_file":"crv","tool_name":"Climate Risk Viewer","study_id":2039,"double_code":true,"topic_cat":"Natural environment, resources & ecosystems","tool_use_type":"Mentioned/Context","publisher_type":"Government repositories","publisher_description":"USDA Forest Service official site for publications and research.","y":0,"name":"USDA Forest Service"},{"cites":0,"authors":"PW Clark, AW D'Amato¹, LA Fitts, ...","title":"Forest assisted migration and adaptation plantings in the","year":2025,"source":"Forest Assisted …","publisher":"books.google.com","article_url":"https://books.google.com/books?hl=en&lr=&id=qNRFEQAAQBAJ&oi=fnd&pg=PA114&dq=%22climate+risk+viewer%22%7C%22usda+climate+risk+viewer%22%7C%22forest+service+climate+risk+viewer%22%7C%22usfs+climate+risk+viewer%22%7C%22climate+risk+mapping+tool+usda%22%7C%22usda+risk+viewer+climate%22%7C%22usda+climate+risk+tool%22%7C%22climate+risk+beta+viewer%22&ots=xkEYiRezhF&sig=FdfrMHv7SG3hK9sXV4bCx5t9m4k","cites_url":null,"gs_rank":21,"query_date":"2025-08-29","type":null,"doi":null,"ecc":0,"cites_per_year":0,"cites_per_author":0,"author_count":4,"age":1,"abstract":"Global climate change is expected to affect forested ecosystems worldwide, with impacts to community structure, composition, and ecosystem function (Dale et al., 2001). Consequently, …","full_text_url":null,"related_url":"https://scholar.google.com/scholar?q=related:o6QBeMB1WOEJ:scholar.google.com/&scioq=%22climate+risk+viewer%22%7C%22usda+climate+risk+viewer%22%7C%22forest+service+climate+risk+viewer%22%7C%22usfs+climate+risk+viewer%22%7C%22climate+risk+mapping+tool+usda%22%7C%22usda+risk+viewer+climate%22%7C%22usda+climate+risk+tool%22%7C%22climate+risk+beta+viewer%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2025","source_file":"crv","tool_name":"Climate Risk Viewer","study_id":2044,"double_code":true,"topic_cat":"Natural environment, resources & ecosystems","tool_use_type":"Applied","publisher_type":"Grey literature platforms","publisher_description":"Google Books aggregator/scans; identify original publisher if possible.","y":0,"name":"Forest assisted migration and adaptation plantings in the"}],"type":"bar"},{"name":"Climate and Economic Justice Screening Tool (CEJST)","data":[{"cites":43,"authors":"JA Casey, MA Kioumourtzoglou, A Padula…","title":"Measuring long-term exposure to wildfire PM2.5 in California: Time-varying inequities in environmental burden","year":2024,"source":"Proceedings of the …","publisher":"pnas.org","article_url":"https://www.pnas.org/doi/abs/10.1073/pnas.2306729121","cites_url":"https://scholar.google.com/scholar?cites=17168599373999128838&as_sdt=2005&sciodt=2007&hl=en","gs_rank":654,"query_date":"2025-08-29","type":null,"doi":"10.1073/pnas.2306729121","ecc":43,"cites_per_year":43,"cites_per_author":11,"author_count":4,"age":1,"abstract":"Wildfires have become more frequent and intense due to climate change and outdoor wildfire fine particulate matter (PM 2.5 ) concentrations differ from relatively smoothly varying total …","full_text_url":"https://www.pnas.org/doi/full/10.1073/pnas.2306729121","related_url":"https://scholar.google.com/scholar?q=related:BkE24ioeQ-4J:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":1896,"double_code":true,"topic_cat":"Air quality & pollution","tool_use_type":"Mentioned/Context","publisher_type":"Scholarly society / association publishers","publisher_description":"PNAS (Proceedings of the National Academy of Sciences) is published by the U.S. National Academy of Sciences (a learned society).","y":43,"name":"Measuring long-term exposure to wildfire PM2.5 in California: Time-varying inequities in environmental burden"},{"cites":41,"authors":"L Cain, D Hernandez-Cortes…","title":"Recent findings and methodologies in economics research in environmental justice","year":2024,"source":"Review of …","publisher":"journals.uchicago.edu","article_url":"https://www.journals.uchicago.edu/doi/abs/10.1086/728100","cites_url":"https://scholar.google.com/scholar?cites=9379717219591971090&as_sdt=2005&sciodt=2007&hl=en","gs_rank":539,"query_date":"2025-08-29","type":null,"doi":"10.1086/728100","ecc":41,"cites_per_year":41,"cites_per_author":14,"author_count":3,"age":1,"abstract":"This review synthesizes economics-oriented research in environmental justice with a focus on the last decade. We first categorize this literature into broad areas of inquiry and review …","full_text_url":"https://www.econstor.eu/bitstream/10419/271927/1/cesifo1_wp10283.pdf","related_url":"https://scholar.google.com/scholar?q=related:EuFkhx1zK4IJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":1781,"double_code":true,"topic_cat":"Equity and justice","tool_use_type":"Mentioned/Context","publisher_type":"University presses","publisher_description":"University of Chicago Press is the academic press of the University of Chicago.","y":41,"name":"Recent findings and methodologies in economics research in environmental justice"},{"cites":73,"authors":"E Baker, S Carley, S Castellanos, D Nock, ...","title":"Metrics for decision-making in energy justice","year":2023,"source":"Annual Review of …","publisher":"annualreviews.org","article_url":"https://www.annualreviews.org/content/journals/10.1146/annurev-environ-112621-063400","cites_url":"https://scholar.google.com/scholar?cites=7130851940603066122&as_sdt=2005&sciodt=2007&hl=en","gs_rank":187,"query_date":"2025-09-15","type":"HTML","doi":"10.1146/annurev-environ-112621-063400","ecc":73,"cites_per_year":36.5,"cites_per_author":15,"author_count":5,"age":2,"abstract":"… mapping index, the Climate and Economic Justice Screening Tool (CEJST) (60), to support the implementation of the Biden Administration's Justice40 Initiative. The CEJST, still in beta …","full_text_url":"https://www.annualreviews.org/content/journals/10.1146/annurev-environ-112621-063400","related_url":"https://scholar.google.com/scholar?q=related:CveMIQ_g9WIJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Energy & decarbonization","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"Annual Reviews is a nonprofit publisher of peer-reviewed review journals (some content open access).","y":36.5,"name":"Metrics for decision-making in energy justice"},{"cites":36,"authors":"GJ Carlton, S Sultana","title":"Electric vehicle charging equity and accessibility: A comprehensive United States policy analysis","year":2024,"source":"Transportation Research Part D: Transport and …","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S1361920924000804","cites_url":"https://scholar.google.com/scholar?cites=880195045012995719&as_sdt=2005&sciodt=2007&hl=en","gs_rank":120,"query_date":"2025-09-15","type":null,"doi":null,"ecc":36,"cites_per_year":36,"cites_per_author":18,"author_count":2,"age":1,"abstract":"The ongoing placement of EV charging in the US is the result of a complicated interplay between market actors and the public sector. The federal government has recently established a …","full_text_url":null,"related_url":"https://scholar.google.com/scholar?q=related:h_4O37oUNwwJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Transit, mobility & transportation","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":36,"name":"Electric vehicle charging equity and accessibility: A comprehensive United States policy analysis"},{"cites":68,"authors":"PGT Lewis, WA Chiu, E Nasser, J Proville, ...","title":"Characterizing vulnerabilities to climate change across the United States","year":2023,"source":"Environment …","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S0160412023000454","cites_url":"https://scholar.google.com/scholar?cites=9081202494777090036&as_sdt=2005&sciodt=2007&hl=en","gs_rank":76,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":68,"cites_per_year":34,"cites_per_author":14,"author_count":5,"age":2,"abstract":"Climate change will cause a range of related risks, including increases in infectious and chronic disease, intensified social and economic stresses, and more frequent extreme weather …","full_text_url":"https://www.sciencedirect.com/science/article/pii/S0160412023000454","related_url":"https://scholar.google.com/scholar?q=related:9F-UAo7pBn4J:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":34,"name":"Characterizing vulnerabilities to climate change across the United States"},{"cites":31,"authors":"T Xue, R Wang, M Wang, Y Wang, D Tong, ...","title":"Health benefits from the rapid reduction in ambient exposure to air pollutants after China's clean air actions: progress in efficacy and geographic equality","year":2024,"source":"National Science …","publisher":"academic.oup.com","article_url":"https://academic.oup.com/nsr/article-abstract/11/2/nwad263/7303310","cites_url":"https://scholar.google.com/scholar?cites=10123527139064500028&as_sdt=2005&sciodt=2007&hl=en","gs_rank":256,"query_date":"2025-09-15","type":null,"doi":null,"ecc":31,"cites_per_year":31,"cites_per_author":5,"author_count":6,"age":1,"abstract":"… The Justice40 Initiative developed the Climate and Economic Justice Screening Tool (CEJST… Although studies have found CEJST could not effectively reduce inequalities embedded in …","full_text_url":"https://academic.oup.com/nsr/article/11/2/nwad263/7303310","related_url":"https://scholar.google.com/scholar?q=related:PE_31Uv-fYwJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"University presses","publisher_description":"Oxford University Press is the publishing house of the University of Oxford (the world’s largest university press).","y":31,"name":"Health benefits from the rapid reduction in ambient exposure to air pollutants after China's clean air actions: progress in efficacy and geographic equality"},{"cites":62,"authors":"Y Wang, JS Apte, JD Hill, CE Ivey, D Johnson, E Min, ...","title":"Air quality policy should quantify effects on disparities","year":2023,"source":"Science","publisher":"science.org","article_url":"https://www.science.org/doi/abs/10.1126/science.adg9931","cites_url":"https://scholar.google.com/scholar?cites=13181465971392899802&as_sdt=2005&sciodt=2007&hl=en","gs_rank":27,"query_date":"2025-09-15","type":null,"doi":"10.1126/science.adg9931","ecc":62,"cites_per_year":31,"cites_per_author":9,"author_count":7,"age":2,"abstract":"… We investigated how using CEJST to target … CEJST may not ameliorate (and in some cases may increase) exposure disparities by race-ethnicity. This outcome likely reflects that CEJST …","full_text_url":"https://www.yuzhouwang.net/files/Wang%20et%20al%20Science%202023.pdf","related_url":"https://scholar.google.com/scholar?q=related:2urFa3b57bYJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Air quality & pollution","tool_use_type":"Evaluated","publisher_type":"Grey literature platforms","publisher_description":"AAAS society publishes Science family of journals.","y":31,"name":"Air quality policy should quantify effects on disparities"},{"cites":27,"authors":"A Ermagun, J Tian","title":"Charging into inequality: A national study of social, economic, and environment correlates of electric vehicle charging stations","year":2024,"source":"Energy Research &Social Science","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S2214629624002135","cites_url":"https://scholar.google.com/scholar?cites=18246447889398149248&as_sdt=2005&sciodt=2007&hl=en","gs_rank":127,"query_date":"2025-09-15","type":null,"doi":null,"ecc":27,"cites_per_year":27,"cites_per_author":14,"author_count":2,"age":1,"abstract":"This study assesses the spatial disparity of public electric vehicle (EV) charging infrastructure in the United States. The analysis identifies areas characterized by deficient EV charging …","full_text_url":null,"related_url":"https://scholar.google.com/scholar?q=related:gLBAfK5nOP0J:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Transit, mobility & transportation","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":27,"name":"Charging into inequality: A national study of social, economic, and environment correlates of electric vehicle charging stations"},{"cites":45,"authors":"S Kime, V Jacome, D Pellow, ...","title":"Evaluating equity and justice in low-carbon energy transitions","year":2023,"source":"Environmental Research …","publisher":"iopscience.iop.org","article_url":"https://iopscience.iop.org/article/10.1088/1748-9326/ad08f8/meta","cites_url":"https://scholar.google.com/scholar?cites=1147487503700979368&as_sdt=2005&sciodt=2007&hl=en","gs_rank":73,"query_date":"2025-09-15","type":"HTML","doi":"10.1088/1748-9326/ad08f8","ecc":45,"cites_per_year":22.5,"cites_per_author":11,"author_count":4,"age":2,"abstract":"A low-carbon energy transition is essential for mitigating climate change, but can also cause energy justice and equity impacts on Black, Indigenous, and People of Color (BIPOC), low-…","full_text_url":"https://iopscience.iop.org/article/10.1088/1748-9326/ad08f8/meta","related_url":"https://scholar.google.com/scholar?q=related:qO5LEs6x7A8J:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Energy & decarbonization","tool_use_type":"Mentioned/Context","publisher_type":"Scholarly society / association publishers","publisher_description":"IOPscience is operated by the Institute of Physics (a learned society) as its publishing arm.","y":22.5,"name":"Evaluating equity and justice in low-carbon energy transitions"},{"cites":64,"authors":"M Manware, R Dubrow, D Carrión, Y Ma, K Chen","title":"Residential and race/ethnicity disparities in heat vulnerability in the United States","year":2022,"source":"GeoHealth","publisher":"Wiley Online Library","article_url":"https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1029/2022GH000695","cites_url":"https://scholar.google.com/scholar?cites=17613840823576508202&as_sdt=2005&sciodt=2007&hl=en","gs_rank":54,"query_date":"2025-09-15","type":null,"doi":"10.1029/2022GH000695","ecc":64,"cites_per_year":21.33,"cites_per_author":13,"author_count":5,"age":3,"abstract":"… We compared mean HVI scores for CEJST “disadvantaged” and “non-disadvantaged” … among HOLC-grade specific census tract strata by CEJST disadvantaged community status. …","full_text_url":"https://agupubs.onlinelibrary.wiley.com/doi/pdfdirect/10.1029/2022GH000695","related_url":"https://scholar.google.com/scholar?q=related:KjeNK-jucPQJ:scholar.google.com/&scioq=%22climate+and+economic+justice+screening+tool%22%7C%22cejst%22%7C%22justice40+screening+tool%22%7C%22climate+economic+justice+tool%22%7C%22justice40+cejst%22%7C%22ceq+cejst%22%7C%22environmental+justice+screening+cejst%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"cejst","tool_name":"Climate and Economic Justice Screening Tool (CEJST)","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"Wiley is a for-profit global academic publisher.","y":21.33,"name":"Residential and race/ethnicity disparities in heat vulnerability in the United States"}],"type":"bar"},{"name":"EJScreen","data":[{"cites":54,"authors":"A Shkembi, LM Smith, RL Neitzel","title":"Linking environmental injustices in Detroit, MI to institutional racial segregation through historical federal redlining","year":2024,"source":"Journal of exposure science & …","publisher":"nature.com","article_url":"https://www.nature.com/articles/s41370-022-00512-y","cites_url":"https://scholar.google.com/scholar?cites=9193022137532077454&as_sdt=2005&sciodt=2007&hl=en","gs_rank":96,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":54,"cites_per_year":54,"cites_per_author":18,"author_count":3,"age":1,"abstract":"… in EJScreen tool within any boundary. In this case, our estimates inside the EJScreen tool … Albeit not included in the EPA EJScreen, noise pollution is included in this study due to the …","full_text_url":"https://www.nature.com/articles/s41370-022-00512-y","related_url":"https://scholar.google.com/scholar?q=related:jtXmZ-0slH8J:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2024","source_file":"ejscreen_3","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Governance, policy & institutional frameworks","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"Nature Portfolio (Springer Nature); commercial scholarly publisher.","y":54,"name":"Linking environmental injustices in Detroit, MI to institutional racial segregation through historical federal redlining"},{"cites":116,"authors":"SR Nicholson, JE Rorrer, A Singh, ...","title":"The critical role of process analysis in chemical recycling and upcycling of waste plastics","year":2022,"source":"Annual review of …","publisher":"annualreviews.org","article_url":"https://www.annualreviews.org/content/journals/10.1146/annurev-chembioeng-100521-085846","cites_url":"https://scholar.google.com/scholar?cites=16561911266140556031&as_sdt=2005&sciodt=2007&hl=en","gs_rank":98,"query_date":"2025-09-15","type":null,"doi":"10.1146/annurev-chembioeng-100521-085846","ecc":116,"cites_per_year":38.67,"cites_per_author":29,"author_count":4,"age":3,"abstract":"There is an urgent need for new technologies to enable circularity for synthetic polymers, spurred by the accumulation of waste plastics in landfills and the environment and the …","full_text_url":"https://www.osti.gov/pages/servlets/purl/1861788","related_url":"https://scholar.google.com/scholar?q=related:_wrZO4y61-UJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2021&as_yhi=2022","source_file":"ejscreen_2","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Governance, policy & institutional frameworks","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"Annual Reviews is a nonprofit publisher of peer-reviewed review journals (some content open access).","y":38.67,"name":"The critical role of process analysis in chemical recycling and upcycling of waste plastics"},{"cites":34,"authors":"M Yu, S Zhang, H Ning, Z Li, K Zhang","title":"Assessing the 2023 Canadian wildfire smoke impact in Northeastern US: Air quality, exposure and environmental justice","year":2024,"source":"Science of the Total Environment","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S004896972401996X","cites_url":"https://scholar.google.com/scholar?cites=12562011232868067408&as_sdt=2005&sciodt=2007&hl=en","gs_rank":15,"query_date":"2025-09-15","type":null,"doi":null,"ecc":34,"cites_per_year":34,"cites_per_author":7,"author_count":5,"age":1,"abstract":"… Agency (EPA) Environmental Justice Screening and Mapping Tool (EJScreen). Results … correlations in rural areas with EJScreen factors highlight the unique vulnerabilities of these …","full_text_url":"https://papers.ssrn.com/sol3/Delivery.cfm?abstractid=4717779","related_url":"https://scholar.google.com/scholar?q=related:UGiR76g6Va4J:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2024","source_file":"ejscreen_3","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Air quality & pollution","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":34,"name":"Assessing the 2023 Canadian wildfire smoke impact in Northeastern US: Air quality, exposure and environmental justice"},{"cites":68,"authors":"PGT Lewis, WA Chiu, E Nasser, J Proville, ...","title":"Characterizing vulnerabilities to climate change across the United States","year":2023,"source":"Environment …","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S0160412023000454","cites_url":"https://scholar.google.com/scholar?cites=9081202494777090036&as_sdt=2005&sciodt=2007&hl=en","gs_rank":445,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":68,"cites_per_year":34,"cites_per_author":14,"author_count":5,"age":2,"abstract":"Climate change will cause a range of related risks, including increases in infectious and chronic disease, intensified social and economic stresses, and more frequent extreme weather …","full_text_url":"https://www.sciencedirect.com/science/article/pii/S0160412023000454","related_url":"https://scholar.google.com/scholar?q=related:9F-UAo7pBn4J:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2024","source_file":"ejscreen_3","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":34,"name":"Characterizing vulnerabilities to climate change across the United States"},{"cites":72,"authors":"I Motairek, EK Lee, S Janus, M Farkouh, ...","title":"Historical neighborhood redlining and contemporary cardiometabolic risk","year":2022,"source":"Journal of the American …","publisher":"jacc.org","article_url":"https://www.jacc.org/doi/abs/10.1016/j.jacc.2022.05.010","cites_url":"https://scholar.google.com/scholar?cites=9607344488229134700&as_sdt=2005&sciodt=2007&hl=en","gs_rank":111,"query_date":"2025-09-15","type":null,"doi":"10.1016/j.jacc.2022.05.010","ecc":72,"cites_per_year":24,"cites_per_author":14,"author_count":5,"age":3,"abstract":"Methods This is a cross-sectional study of the mean prevalence of the 2019 cardiometabolic outcomes and risk factors at the census tract level according to HOLC grading. …","full_text_url":"https://www.jacc.org/doi/full/10.1016/j.jacc.2022.05.010","related_url":"https://scholar.google.com/scholar?q=related:bGG0_-gkVIUJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2021&as_yhi=2022","source_file":"ejscreen_2","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"JACC (Journal of the American College of Cardiology) is the flagship journal of the American College of Cardiology; it is published by Elsevier ","y":24,"name":"Historical neighborhood redlining and contemporary cardiometabolic risk"},{"cites":47,"authors":"S Heo, ML Bell","title":"Investigation on urban greenspace in relation to sociodemographic factors and health inequity based on different greenspace metrics in 3 US urban …","year":2023,"source":"Journal of Exposure Science &Environmental …","publisher":"nature.com","article_url":"https://www.nature.com/articles/s41370-022-00468-z","cites_url":"https://scholar.google.com/scholar?cites=8322462830287557944&as_sdt=2005&sciodt=2007&hl=en","gs_rank":101,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":47,"cites_per_year":23.5,"cites_per_author":24,"author_count":2,"age":2,"abstract":"… , as we used the percent people of color obtained from the EJSCREEN of the EPA. This EJSCREEN index aggregated the percentage of persons whose racial status was other than …","full_text_url":"https://www.nature.com/articles/s41370-022-00468-z","related_url":"https://scholar.google.com/scholar?q=related:OJWuj9lTf3MJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2024","source_file":"ejscreen_3","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"Nature Portfolio (Springer Nature); commercial scholarly publisher.","y":23.5,"name":"Investigation on urban greenspace in relation to sociodemographic factors and health inequity based on different greenspace metrics in 3 US urban …"},{"cites":69,"authors":"A Nejat, L Solitare, E Pettitt, ...","title":"Equitable community resilience: the case of winter storm Uri in Texas","year":2022,"source":"International Journal of …","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S2212420922002898","cites_url":"https://scholar.google.com/scholar?cites=2075301145906182163&as_sdt=2005&sciodt=2007&hl=en","gs_rank":54,"query_date":"2025-09-15","type":null,"doi":null,"ecc":69,"cites_per_year":23,"cites_per_author":17,"author_count":4,"age":3,"abstract":"Community resilience in the face of natural hazards involves both a community's sensitivity to disaster and its potential to bounce back. A failure to integrate equity into resilience …","full_text_url":"https://www.sciencedirect.com/science/article/am/pii/S2212420922002898","related_url":"https://scholar.google.com/scholar?q=related:E_iyk2XzzBwJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2021&as_yhi=2022","source_file":"ejscreen_2","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":23,"name":"Equitable community resilience: the case of winter storm Uri in Texas"},{"cites":45,"authors":"D Ellis-Soto, M Chapman, DH Locke","title":"Historical redlining is associated with increasing geographical disparities in bird biodiversity sampling in the United States","year":2023,"source":"Nature Human Behaviour","publisher":"nature.com","article_url":"https://www.nature.com/articles/s41562-023-01688-5","cites_url":"https://scholar.google.com/scholar?cites=41139234570239928&as_sdt=2005&sciodt=2007&hl=en","gs_rank":465,"query_date":"2025-09-15","type":null,"doi":null,"ecc":45,"cites_per_year":22.5,"cites_per_author":15,"author_count":3,"age":2,"abstract":"… To investigate temporal trends in bird data collection and the type of records collected, we calculated the yearly number of bird records first from 1933–2022. Then, we filtered our …","full_text_url":"https://www.researchgate.net/profile/Diego-Ellis-Soto/publication/373737549_nature_human_behaviour_Historical_redlining_is_associated_with_increasing_geographical_disparities_in_bird_biodiversity_sampling_in_the_United_States/links/64ffa48a849bbb203b913ea1/nature-human-behaviour-Historical-redlining-is-associated-with-increasing-geographical-disparities-in-bird-biodiversity-sampling-in-the-United-States.pdf","related_url":"https://scholar.google.com/scholar?q=related:uP_jduonkgAJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2023&as_yhi=2024","source_file":"ejscreen_3","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Energy & decarbonization","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"Nature Portfolio (Springer Nature); commercial scholarly publisher.","y":22.5,"name":"Historical redlining is associated with increasing geographical disparities in bird biodiversity sampling in the United States"},{"cites":66,"authors":"LP Clark, MH Harris, JS Apte, ...","title":"National and intraurban air pollution exposure disparity estimates in the United States: impact of data-aggregation spatial scale","year":2022,"source":"Environmental science & …","publisher":"ACS Publications","article_url":"https://pubs.acs.org/doi/abs/10.1021/acs.estlett.2c00403","cites_url":"https://scholar.google.com/scholar?cites=5437750204326824105&as_sdt=2005&sciodt=2007&hl=en","gs_rank":61,"query_date":"2025-09-15","type":null,"doi":"10.1021/acs.estlett.2c00403","ecc":66,"cites_per_year":22,"cites_per_author":17,"author_count":4,"age":3,"abstract":"Air pollution exposure disparities by race/ethnicity and socioeconomic status have been analyzed using data aggregated at various spatial scales. Our research question is this: To what …","full_text_url":"https://pubs.acs.org/doi/full/10.1021/acs.estlett.2c00403","related_url":"https://scholar.google.com/scholar?q=related:qUg1GgDFdksJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2021&as_yhi=2022","source_file":"ejscreen_2","tool_name":"EJScreen","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Mentioned/Context","publisher_type":"Scholarly society / association publishers","publisher_description":"ASCE Library – journals of American Society of Civil Engineers.","y":22,"name":"National and intraurban air pollution exposure disparity estimates in the United States: impact of data-aggregation spatial scale"},{"cites":65,"authors":"N Brazil","title":"Environmental inequality in the neighborhood networks of urban mobility in US cities","year":2022,"source":"Proceedings of the National Academy of Sciences","publisher":"pnas.org","article_url":"https://www.pnas.org/doi/abs/10.1073/pnas.2117776119","cites_url":"https://scholar.google.com/scholar?cites=12915373848302613278&as_sdt=2005&sciodt=2007&hl=en","gs_rank":93,"query_date":"2025-08-29","type":null,"doi":"10.1073/pnas.2117776119","ecc":65,"cites_per_year":21.67,"cites_per_author":65,"author_count":1,"age":3,"abstract":"… Air pollution data come from the Environmental Protection Agency’s (EPA’s) Environmental Justice Screening and Mapping Tool EJSCREEN. Following prior work employing an …","full_text_url":"https://www.pnas.org/doi/full/10.1073/pnas.2117776119","related_url":"https://scholar.google.com/scholar?q=related:HnNyIRagPLMJ:scholar.google.com/&scioq=%22ejscreen%22%7C%22epa+ejscreen%22%7C%22environmental+justice+screening+and+mapping+tool%22%7C%22epa+ej+screen%22%7C%22ej+screen%22%7C%22epa+environmental+justice+mapping+tool%22%7C%22environmental+justice+screening+tool+epa%22%7C%22ejscreen+v2.0%22%7C%22ejscreen+2020%22%7C%22ejscreen+2022%22&hl=en&as_sdt=2007&as_ylo=2021&as_yhi=2022","source_file":"ejscreen_2","tool_name":"EJScreen","study_id":285,"double_code":true,"topic_cat":"Transit, mobility & transportation","tool_use_type":"Applied","publisher_type":"Scholarly society / association publishers","publisher_description":"PNAS (Proceedings of the National Academy of Sciences) is published by the U.S. National Academy of Sciences (a learned society).","y":21.67,"name":"Environmental inequality in the neighborhood networks of urban mobility in US cities"}],"type":"bar"},{"name":"Environmental Justice Index (EJI)","data":[{"cites":22,"authors":"CA Pate, HS Zahran","title":"The status of asthma in the United States","year":2024,"source":"Preventing Chronic Disease","publisher":"pmc.ncbi.nlm.nih.gov","article_url":"https://pmc.ncbi.nlm.nih.gov/articles/PMC11262137/","cites_url":"https://scholar.google.com/scholar?cites=6218190486465970346&as_sdt=2005&sciodt=2007&hl=en","gs_rank":95,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":22,"cites_per_year":22,"cites_per_author":11,"author_count":2,"age":1,"abstract":"Introduction Asthma imposes a substantial health and economic burden on patients and their families and on the health care system. An assessment of the status of asthma in the US …","full_text_url":"https://pmc.ncbi.nlm.nih.gov/articles/PMC11262137/","related_url":"https://scholar.google.com/scholar?q=related:qoCEU01zS1YJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"Government repositories","publisher_description":"Government-hosted domain; repository or agency publisher.","y":22,"name":"The status of asthma in the United States"},{"cites":21,"authors":"C Scott-Buechler, B Cain, K Osman, ...","title":"Communities conditionally support deployment of direct air capture for carbon dioxide removal in the United States","year":2024,"source":"… Earth &Environment","publisher":"nature.com","article_url":"https://www.nature.com/articles/s43247-024-01334-6","cites_url":"https://scholar.google.com/scholar?cites=13672146983376215905&as_sdt=2005&sciodt=2007&hl=en","gs_rank":58,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":21,"cites_per_year":21,"cites_per_author":5,"author_count":4,"age":1,"abstract":"… To test whether environmental injustice burden (CDC EJI) or … , suggesting that environmental justice and transitioning … percentile of the CDC’s environmental [in]justice index (EJI). …","full_text_url":"https://www.nature.com/articles/s43247-024-01334-6","related_url":"https://scholar.google.com/scholar?q=related:YV8RRT45vb0J:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Energy & decarbonization","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"Nature Portfolio (Springer Nature); commercial scholarly publisher.","y":21,"name":"Communities conditionally support deployment of direct air capture for carbon dioxide removal in the United States"},{"cites":15,"authors":"S Khadke, A Kumar, S Al‐Kindi, ...","title":"Association of environmental injustice and cardiovascular diseases and risk factors in the United States","year":2024,"source":"Journal of the …","publisher":"ahajournals.org","article_url":"https://www.ahajournals.org/doi/abs/10.1161/JAHA.123.033428","cites_url":"https://scholar.google.com/scholar?cites=845499601898734291&as_sdt=2005&sciodt=2007&hl=en","gs_rank":9,"query_date":"2025-09-15","type":null,"doi":"10.1161/JAHA.123.033428","ecc":15,"cites_per_year":15,"cites_per_author":4,"author_count":4,"age":1,"abstract":"… The quartile 4 Environmental Justice Index was associated with a … index of environmental injustice, the CDC's EJI, to capture cumulative exposure across multiple domains. The EJI …","full_text_url":"https://www.ahajournals.org/doi/pdf/10.1161/JAHA.123.033428","related_url":"https://scholar.google.com/scholar?q=related:04LohGjRuwsJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Applied","publisher_type":"Scholarly society / association publishers","publisher_description":"American Heart Association (nonprofit) publishes AHA journals (e.g. Circulation) – a professional medical society.","y":15,"name":"Association of environmental injustice and cardiovascular diseases and risk factors in the United States"},{"cites":9,"authors":"N Popovich, AJ Figueroa, DA Sunter, M Shah","title":"Identifying disadvantaged communities in the United States: An energy-oriented mapping tool that aggregates environmental and socioeconomic burdens","year":2024,"source":"Energy Research &Social …","publisher":"Elsevier","article_url":"https://www.sciencedirect.com/science/article/pii/S2214629623004516","cites_url":"https://scholar.google.com/scholar?cites=15019131389588296473&as_sdt=2005&sciodt=2007&hl=en","gs_rank":19,"query_date":"2025-09-15","type":"HTML","doi":null,"ecc":9,"cites_per_year":9,"cites_per_author":2,"author_count":4,"age":1,"abstract":"… index to identify communities disproportionately impacted by environmental, energy, and climate … We review existing vulnerability indicators and indices to assess the tradeoffs of …","full_text_url":"https://www.sciencedirect.com/science/article/pii/S2214629623004516","related_url":"https://scholar.google.com/scholar?q=related:GVNUj2ysbtAJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Energy & decarbonization","tool_use_type":"Evaluated","publisher_type":"Commercial academic publishers","publisher_description":"For-profit multinational academic publisher.","y":9,"name":"Identifying disadvantaged communities in the United States: An energy-oriented mapping tool that aggregates environmental and socioeconomic burdens"},{"cites":16,"authors":"CA Pate, X Qin, C Johnson, HS Zahran","title":"Asthma disparities among US children and adults","year":2023,"source":"Journal of Asthma","publisher":"Taylor &Francis","article_url":"https://www.tandfonline.com/doi/abs/10.1080/02770903.2023.2228915","cites_url":"https://scholar.google.com/scholar?cites=15292848815749387795&as_sdt=2005&sciodt=2007&hl=en","gs_rank":108,"query_date":"2025-09-15","type":null,"doi":"10.1080/02770903.2023.2228915","ecc":16,"cites_per_year":8,"cites_per_author":4,"author_count":4,"age":2,"abstract":"… Promoting adequate housing can help further environmental justice and reduce burden of … asthma hospitalization and emergency department visits by 2024 (Citation37). Identifying and …","full_text_url":"https://pmc.ncbi.nlm.nih.gov/articles/PMC10760409/","related_url":"https://scholar.google.com/scholar?q=related:E9Z-EvkcO9QJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"For-profit academic publisher of journals and books.","y":8,"name":"Asthma disparities among US children and adults"},{"cites":7,"authors":"S Doshi, S Vuppula, P Jaggi","title":"Healthcare sustainability to address climate change: call for action to the infectious diseases community","year":2024,"source":"Journal of the Pediatric Infectious …","publisher":"academic.oup.com","article_url":"https://academic.oup.com/jpids/article-abstract/13/6/306/7675997","cites_url":"https://scholar.google.com/scholar?cites=1178007852079371498&as_sdt=2005&sciodt=2007&hl=en","gs_rank":89,"query_date":"2025-09-15","type":null,"doi":null,"ecc":7,"cites_per_year":7,"cites_per_author":2,"author_count":3,"age":1,"abstract":"… The risk of climate change is especially important to children, who are uniquely vulnerable to the health impacts of a changing climate and will live more years in a changed climate. …","full_text_url":null,"related_url":"https://scholar.google.com/scholar?q=related:6tTPbeYfWRAJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"University presses","publisher_description":"Oxford University Press is the publishing house of the University of Oxford (the world’s largest university press).","y":7,"name":"Healthcare sustainability to address climate change: call for action to the infectious diseases community"},{"cites":6,"authors":"P Matus, C Urquidi, M Cárcamo, V Vidal","title":"Integrating the exposome and one health approach to national health surveillance: an opportunity for Latin American countries in health preventive …","year":2024,"source":"Frontiers in Public Health","publisher":"frontiersin.org","article_url":"https://www.frontiersin.org/journals/public-health/articles/10.3389/fpubh.2024.1376609/full","cites_url":"https://scholar.google.com/scholar?cites=9699733996703157615&as_sdt=2005&sciodt=2007&hl=en","gs_rank":84,"query_date":"2025-08-29","type":"HTML","doi":"10.3389/fpubh.2024.1376609","ecc":6,"cites_per_year":6,"cites_per_author":2,"author_count":4,"age":1,"abstract":"… Additionally, it facilitates the computation of indices, such as the Environmental Justice Index (EJ), enabling targeted health promotion and prevention interventions in the most …","full_text_url":"https://www.frontiersin.org/journals/public-health/articles/10.3389/fpubh.2024.1376609/full","related_url":"https://scholar.google.com/scholar?q=related:b41Fua1gnIYJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":2126,"double_code":true,"topic_cat":"Health & well-being","tool_use_type":"Applied","publisher_type":"Open access publishers","publisher_description":"Frontiers Media SA is a nonprofit open-access publisher of peer-reviewed scientific journals.","y":6,"name":"Integrating the exposome and one health approach to national health surveillance: an opportunity for Latin American countries in health preventive …"},{"cites":6,"authors":"R Ibrahim, HN Pham, S Ganatra, Z Javed, ...","title":"Social phenotyping for cardiovascular risk stratification in electronic health registries","year":2024,"source":"Current atherosclerosis …","publisher":"Springer","article_url":"https://link.springer.com/article/10.1007/s11883-024-01222-6","cites_url":"https://scholar.google.com/scholar?cites=15215021849109332408&as_sdt=2005&sciodt=2007&hl=en","gs_rank":81,"query_date":"2025-08-29","type":null,"doi":"10.1007/s11883-024-01222-6","ecc":6,"cites_per_year":6,"cites_per_author":1,"author_count":5,"age":1,"abstract":"… - This cross-sectional analysis revealed that the Environmental Justice Index, a quantitative measure incorporating both environmental influences and social vulnerability, is highly …","full_text_url":null,"related_url":"https://scholar.google.com/scholar?q=related:uAH4VcKdJtMJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":2134,"double_code":true,"topic_cat":"Health & well-being","tool_use_type":"Applied","publisher_type":"Commercial academic publishers","publisher_description":"Springer Nature is a global for-profit academic publisher. Part of Springer Nature; commercial scholarly publisher.","y":6,"name":"Social phenotyping for cardiovascular risk stratification in electronic health registries"},{"cites":6,"authors":"R Winker, A Payton, E Brown, E McDermott, ...","title":"Wildfires and climate justice: future wildfire events predicted to disproportionally impact socioeconomically vulnerable communities in North Carolina","year":2024,"source":"… in public health","publisher":"frontiersin.org","article_url":"https://www.frontiersin.org/articles/10.3389/fpubh.2024.1339700/full","cites_url":"https://scholar.google.com/scholar?cites=9543474696027875943&as_sdt=2005&sciodt=2007&hl=en","gs_rank":46,"query_date":"2025-09-15","type":null,"doi":"10.3389/fpubh.2024.1339700","ecc":6,"cites_per_year":6,"cites_per_author":1,"author_count":5,"age":1,"abstract":"… ’s Forest Service’s WHP Index updated in 2020. The underlying methods surrounding … Environmental Justice Index (EJI) National Scale Air Toxics Assessment Respiratory Hazard Index…","full_text_url":"https://www.frontiersin.org/journals/public-health/articles/10.3389/fpubh.2024.1339700/pdf","related_url":"https://scholar.google.com/scholar?q=related:Z6qrK6w7cYQJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Climate hazards & risks","tool_use_type":"Applied","publisher_type":"Open access publishers","publisher_description":"Frontiers Media SA is a nonprofit open-access publisher of peer-reviewed scientific journals.","y":6,"name":"Wildfires and climate justice: future wildfire events predicted to disproportionally impact socioeconomically vulnerable communities in North Carolina"},{"cites":5,"authors":"D Doiron, EM Setton, J Syer, A Redivo, A McKee, ...","title":"Healthyplan. city: a web tool to support urban environmental equity and public health in Canadian communities","year":2024,"source":"… of Urban Health","publisher":"Springer","article_url":"https://link.springer.com/article/10.1007/s11524-024-00855-x","cites_url":"https://scholar.google.com/scholar?cites=3817642094872671898&as_sdt=2005&sciodt=2007&hl=en","gs_rank":51,"query_date":"2025-09-15","type":"HTML","doi":"10.1007/s11524-024-00855-x","ecc":5,"cites_per_year":5,"cites_per_author":1,"author_count":6,"age":1,"abstract":"… create a flexible data system for easy updating of datasets, and (ii) … Along with the overall index, the EJI Explorer provides … ) calculates an Environmental Justice Index as the intersection …","full_text_url":"https://link.springer.com/article/10.1007/s11524-024-00855-x","related_url":"https://scholar.google.com/scholar?q=related:mrZ2MEL9-jQJ:scholar.google.com/&scioq=%22environmental+justice+index%22%7C%22cdc+environmental+justice+index%22%7C%22atsdr+environmental+justice+index%22%7C%22cdc+eji%22%7C%22environmental+justice+composite+index+cdc%22%7C%22eji+2022%22%7C%22eji+2024+update%22%7C%22environmental+justice+health+index%22&hl=en&as_sdt=2007&as_ylo=2022&as_yhi=2025","source_file":"eji","tool_name":"Environmental Justice Index (EJI)","study_id":null,"double_code":null,"topic_cat":"Health & well-being","tool_use_type":"Mentioned/Context","publisher_type":"Commercial academic publishers","publisher_description":"Springer Nature is a global for-profit academic publisher. Part of Springer Nature; commercial scholarly publisher.","y":5,"name":"Healthyplan. city: a web tool to support urban environmental equity and public health in Canadian communities"}],"type":"bar"},{"name":"Future Risk Index (FRI)","data":[{"cites":1,"authors":"L Mahowald, A Shaw","title":"Climate Change Risk for LGBT People in the United States","year":2024,"source":null,"publisher":"escholarship.org","article_url":"https://escholarship.org/content/qt7xw635f3/qt7xw635f3.pdf","cites_url":"https://scholar.google.com/scholar?cites=1121889444523494756&as_sdt=2005&sciodt=2007&hl=en","gs_rank":2,"query_date":"2025-08-29","type":"PDF","doi":null,"ecc":1,"cites_per_year":1,"cites_per_author":1,"author_count":2,"age":1,"abstract":"Climate change represents a global challenge, but it also exacerbates existing disparities among individuals and communities. LGBT people face discrimination and exclusion, creating …","full_text_url":"https://escholarship.org/content/qt7xw635f3/qt7xw635f3.pdf","related_url":"https://scholar.google.com/scholar?q=related:ZE0VeoHAkQ8J:scholar.google.com/&scioq=%22future+risk+index%22%7C%22fema+future+risk+index%22%7C%22fri+future+risk+index%22%7C%22fema+fri%22%7C%22fema+climate+risk+index%22%7C%22fema+disaster+risk+index%22%7C%22future+disaster+risk+tool+fema%22%7C%22future+risk+index+fema+prototype%22&hl=en&as_sdt=2007&as_ylo=2024&as_yhi=2025","source_file":"fri","tool_name":"Future Risk Index (FRI)","study_id":2170,"double_code":true,"topic_cat":"Health & well-being","tool_use_type":"Evaluated","publisher_type":"University / institutional repositories","publisher_description":"eScholarship is the University of California’s institutional repository (hosts theses, articles, reports).","y":1,"name":"Climate Change Risk for LGBT People in the United States"}],"type":"bar"}],"xAxis":{"type":"category","title":{"text":"Study title"},"labels":{"enabled":false}},"subtitle":{"text":"Highlights studies with the highest relative citation rates"},"tooltip":{"pointFormat":"<b>{point.y}<\/b> cites/year<br>{point.tool_name}<br>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_top_cpy, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"top10_cites_per_year_per_tool.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="average-cites_per_year-over-time-per-tool" class="level5" data-number="5.3.1.6">
<h5 data-number="5.3.1.6" class="anchored" data-anchor-id="average-cites_per_year-over-time-per-tool"><span class="header-section-number">5.3.1.6</span> Average <code>cites_per_year</code> over time per tool</h5>
<p>This shows whether more recent papers citing a tool are getting traction.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [16]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>df_avg_cpy <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year), <span class="sc">!</span><span class="fu">is.na</span>(cites_per_year)) <span class="sc">|&gt;</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(tool_name, year) <span class="sc">|&gt;</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_cpy =</span> <span class="fu">mean</span>(cites_per_year, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>  df_avg_cpy,</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"line"</span>,</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(<span class="at">x =</span> year, <span class="at">y =</span> avg_cpy, <span class="at">group =</span> tool_name)</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Average cites per year over time, by tool"</span>) <span class="sc">|&gt;</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Average cites per year"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-c6ca67850be0b79d09b0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c6ca67850be0b79d09b0">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Average cites per year over time, by tool"},"yAxis":{"title":{"text":"Average cites per year"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":true},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Climate Risk Viewer","data":[{"tool_name":"Climate Risk Viewer","year":2025,"avg_cpy":0,"x":2025,"y":0}],"type":"line"},{"name":"Climate and Economic Justice Screening Tool (CEJST)","data":[{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2022,"avg_cpy":1.906067415730337,"x":2022,"y":1.906067415730337},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2023,"avg_cpy":2.290502793296089,"x":2023,"y":2.290502793296089},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2024,"avg_cpy":2.387453874538745,"x":2024,"y":2.387453874538745},{"tool_name":"Climate and Economic Justice Screening Tool (CEJST)","year":2025,"avg_cpy":0.8391608391608385,"x":2025,"y":0.8391608391608385}],"type":"line"},{"name":"EJScreen","data":[{"tool_name":"EJScreen","year":2016,"avg_cpy":0.5383333333333333,"x":2016,"y":0.5383333333333333},{"tool_name":"EJScreen","year":2017,"avg_cpy":0.38,"x":2017,"y":0.38},{"tool_name":"EJScreen","year":2018,"avg_cpy":2.451666666666667,"x":2018,"y":2.451666666666667},{"tool_name":"EJScreen","year":2019,"avg_cpy":5.806666666666667,"x":2019,"y":5.806666666666667},{"tool_name":"EJScreen","year":2020,"avg_cpy":2.133333333333334,"x":2020,"y":2.133333333333334},{"tool_name":"EJScreen","year":2021,"avg_cpy":1.26,"x":2021,"y":1.26},{"tool_name":"EJScreen","year":2022,"avg_cpy":2.210245901639344,"x":2022,"y":2.210245901639344},{"tool_name":"EJScreen","year":2023,"avg_cpy":2.474885844748858,"x":2023,"y":2.474885844748858},{"tool_name":"EJScreen","year":2024,"avg_cpy":2.086776859504132,"x":2024,"y":2.086776859504132},{"tool_name":"EJScreen","year":2025,"avg_cpy":0.5350318471337577,"x":2025,"y":0.5350318471337577}],"type":"line"},{"name":"Environmental Justice Index (EJI)","data":[{"tool_name":"Environmental Justice Index (EJI)","year":2022,"avg_cpy":1.67,"x":2022,"y":1.67},{"tool_name":"Environmental Justice Index (EJI)","year":2023,"avg_cpy":1.666666666666667,"x":2023,"y":1.666666666666667},{"tool_name":"Environmental Justice Index (EJI)","year":2024,"avg_cpy":2.78,"x":2024,"y":2.78},{"tool_name":"Environmental Justice Index (EJI)","year":2025,"avg_cpy":0.2978723404255318,"x":2025,"y":0.2978723404255318}],"type":"line"},{"name":"Future Risk Index (FRI)","data":[{"tool_name":"Future Risk Index (FRI)","year":2024,"avg_cpy":1,"x":2024,"y":1}],"type":"line"}],"xAxis":{"type":"linear","title":{"text":"year"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_avg_cpy, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"avg_cites_per_year_over_time.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
<section id="publishers" class="level5" data-number="5.3.1.7">
<h5 data-number="5.3.1.7" class="anchored" data-anchor-id="publishers"><span class="header-section-number">5.3.1.7</span> Publishers</h5>
<p>Which top 10 publishers/platforms appear most frequently?</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [17]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df_10_publishers <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(publisher <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(publisher, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>df_10_publishers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   publisher                n
   &lt;chr&gt;                &lt;int&gt;
 1 search.proquest.com    159
 2 osti.gov               116
 3 HeinOnline             115
 4 Elsevier                94
 5 Springer                69
 6 papers.ssrn.com         50
 7 liebertpub.com          47
 8 Taylor &amp;Francis         46
 9 Wiley Online Library    40
10 rosap.ntl.bts.gov       34</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_10_publishers, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"top_publishers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
<p>List all publishers from the sample.</p>
<div class="cell-container code-fold"><div class="cell-decorator"><pre>In [18]:</pre></div><div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df_all_publishers <span class="ot">&lt;-</span> all_studies_merged <span class="sc">|&gt;</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(publisher <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(publisher, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_all_publishers, <span class="fu">here</span>(<span class="st">"06_viz_ready"</span>, <span class="st">"all_publishers.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div></div>
</section>
</section>
<section id="research-question-2" class="level4" data-number="5.3.2">
<h4 data-number="5.3.2" class="anchored" data-anchor-id="research-question-2"><span class="header-section-number">5.3.2</span> Research question 2</h4>
<p><em>What types of research topics occur most frequently overall and within each tool, and how do these topics vary by citation frequency?</em></p>
<p>For this analysis, I’ll use the combined dataset <strong><code>all_studies_merged.csv</code></strong>. This file already contains all the information I need to explore how research topics align with specific tools and how often each study is cited.</p>
<p>The plan is to create a <strong>bubble chart</strong> to visualize the relationship between:</p>
<ul>
<li><p>The <em>tool name</em> (x-axis),</p></li>
<li><p>The <em>research topic category</em> (y-axis), and</p></li>
<li><p>The <em>citation frequency</em> (bubble size).</p></li>
</ul>
<p>No additional CSVs are needed for this step.</p>
</section>
<section id="research-question-3" class="level4" data-number="5.3.3">
<h4 data-number="5.3.3" class="anchored" data-anchor-id="research-question-3"><span class="header-section-number">5.3.3</span> Research question 3</h4>
<p><em>In what ways are these tools used in research studies overall and within each tool, and how does their use vary by citation frequency?</em></p>
<p>This analysis follows the <strong>same logic as Question 2</strong>, using the <strong><code>all_studies_merged.csv</code></strong> dataset. Here, I’ll focus on categorizing how tools are <em>applied, mentioned, evaluated, and critiqued</em>.</p>
</section>
</section>
</section>
<section id="next-step" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="next-step"><span class="header-section-number">6</span> Next Step</h2>
<p>And voilà! That completes the analysis portion 🎉</p>
<p>Next, I’ll take the cleaned CSVs exported in the <strong><code>06_viz_ready/</code></strong> folder and <strong><code>all_studies_merged.csv</code></strong> to move into the visualization stage. While I often use <strong>{highcharter}</strong> and <strong>Apache ECharts</strong>, I’ll likely use <strong>Flourish</strong> for this project so that my team at <strong>PEDP</strong> can easily update the visualizations if new data is added later.</p>
<p>Flourish is a great <strong>low-code/no-code tool</strong>, which perfect for quick collaboration and accessible storytelling.</p>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-datanovia2025" class="csl-entry" role="listitem">
Data Novia. 2025. <span>“Cohen<span>’</span>s Kappa in R: For Two Categorical Variables.”</span> <a href="https://www.datanovia.com/en/lessons/cohens-kappa-in-r-for-two-categorical-variables/">https://www.datanovia.com/en/lessons/cohens-kappa-in-r-for-two-categorical-variables/</a>.
</div>
<div id="ref-harzing2025" class="csl-entry" role="listitem">
Harzing, Anne-Wil. 2025. <span>“13.2.4 Google Scholar Results Are Limited to the 1000 Most Cited Papers.”</span> <a href="https://harzing.com/popbook/ch13_2_4.htm">https://harzing.com/popbook/ch13_2_4.htm</a>.
</div>
<div id="ref-mchugh2012" class="csl-entry" role="listitem">
McHugh, Mary L. 2012. <span>“Interrater Reliability: The Kappa Statistic.”</span> <em>Biochemia Medica</em> 22 (3): 276–82. <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC3900052/">https://pmc.ncbi.nlm.nih.gov/articles/PMC3900052/</a>.
</div>
<div id="ref-sanderson2024" class="csl-entry" role="listitem">
Sanderson, Steven. 2024. <span>“Stratified Sampling in R: A Practical Guide with Base R and Dplyr <span></span> Steve<span>’</span>s Data Tips and Tricks.”</span> <a href="https://www.spsanderson.com/steveondata/posts/2024-07-29/">https://www.spsanderson.com/steveondata/posts/2024-07-29/</a>.
</div>
</div>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>  </div> <!-- /content --> 
  
</body></html>